<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java Miscellanea | Notes of Tan</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://v1.vuepress.vuejs.org/hero.png">
    <meta name="description" content="Tan&#39;s notes.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-of-tan/assets/css/0.styles.0a6bd042.css" as="style"><link rel="preload" href="/notes-of-tan/assets/js/app.54e88839.js" as="script"><link rel="preload" href="/notes-of-tan/assets/js/2.56609c80.js" as="script"><link rel="preload" href="/notes-of-tan/assets/js/25.04528b1a.js" as="script"><link rel="prefetch" href="/notes-of-tan/assets/js/10.d288b15f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/11.bbb6ea24.js"><link rel="prefetch" href="/notes-of-tan/assets/js/12.db860052.js"><link rel="prefetch" href="/notes-of-tan/assets/js/13.779ab4ef.js"><link rel="prefetch" href="/notes-of-tan/assets/js/14.758f3090.js"><link rel="prefetch" href="/notes-of-tan/assets/js/15.7f64b34c.js"><link rel="prefetch" href="/notes-of-tan/assets/js/16.a01fd7b3.js"><link rel="prefetch" href="/notes-of-tan/assets/js/17.fce9eb0f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/18.d26d51c6.js"><link rel="prefetch" href="/notes-of-tan/assets/js/19.12213b74.js"><link rel="prefetch" href="/notes-of-tan/assets/js/20.acc010ce.js"><link rel="prefetch" href="/notes-of-tan/assets/js/21.82c004a6.js"><link rel="prefetch" href="/notes-of-tan/assets/js/22.a7cdb5c6.js"><link rel="prefetch" href="/notes-of-tan/assets/js/23.0a4b8e12.js"><link rel="prefetch" href="/notes-of-tan/assets/js/24.40c9232c.js"><link rel="prefetch" href="/notes-of-tan/assets/js/26.0e99b0ce.js"><link rel="prefetch" href="/notes-of-tan/assets/js/27.060515ee.js"><link rel="prefetch" href="/notes-of-tan/assets/js/28.15440bda.js"><link rel="prefetch" href="/notes-of-tan/assets/js/29.fa7b4513.js"><link rel="prefetch" href="/notes-of-tan/assets/js/3.565b7101.js"><link rel="prefetch" href="/notes-of-tan/assets/js/30.ae22c2fb.js"><link rel="prefetch" href="/notes-of-tan/assets/js/31.f5697e3c.js"><link rel="prefetch" href="/notes-of-tan/assets/js/32.9ff84837.js"><link rel="prefetch" href="/notes-of-tan/assets/js/33.5d420b01.js"><link rel="prefetch" href="/notes-of-tan/assets/js/34.2a02cb4f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/35.b98e11e9.js"><link rel="prefetch" href="/notes-of-tan/assets/js/36.d4034dc3.js"><link rel="prefetch" href="/notes-of-tan/assets/js/37.185689b4.js"><link rel="prefetch" href="/notes-of-tan/assets/js/4.ea586b04.js"><link rel="prefetch" href="/notes-of-tan/assets/js/5.0096d329.js"><link rel="prefetch" href="/notes-of-tan/assets/js/6.254eb4c9.js"><link rel="prefetch" href="/notes-of-tan/assets/js/7.1b486bac.js"><link rel="prefetch" href="/notes-of-tan/assets/js/8.09d51994.js"><link rel="prefetch" href="/notes-of-tan/assets/js/9.5d8277ff.js">
    <link rel="stylesheet" href="/notes-of-tan/assets/css/0.styles.0a6bd042.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-of-tan/" class="home-link router-link-active"><!----> <span class="site-name">Notes of Tan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaBasics.html" class="nav-link">
  Java Basics
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaUtils.html" class="nav-link">
  Java Utilities
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaConcurrency.html" class="nav-link">
  Java Concurrency
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaIO.html" class="nav-link">
  IO
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaMisc.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Java Miscellanea
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/JVM.html" class="nav-link">
  Java Virtual Machine
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SpringNotes.html" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/OS-notes.html" class="nav-link">
  OS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/database.html" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SQL_notes.html" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/distributed.html" class="nav-link">
  Distributed System
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/redis-notes.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/CSS-notes.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/html-notes.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/jsNotes.html" class="nav-link">
  JS, TS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/BOM_DOM_notes.html" class="nav-link">
  BOM, DOM, Web API
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/react_notes.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other" class="dropdown-title"><span class="title">Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other" class="mobile-dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/algo_notes.html" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/git_notes.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/DesignPatternNotes.html" class="nav-link">
  Design Pattern
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/mac-notes.html" class="nav-link">
  MacOS
</a></li></ul></div></div> <a href="https://github.com/tangentyh/notes-of-tan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaBasics.html" class="nav-link">
  Java Basics
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaUtils.html" class="nav-link">
  Java Utilities
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaConcurrency.html" class="nav-link">
  Java Concurrency
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaIO.html" class="nav-link">
  IO
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaMisc.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Java Miscellanea
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/JVM.html" class="nav-link">
  Java Virtual Machine
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SpringNotes.html" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/OS-notes.html" class="nav-link">
  OS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/database.html" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SQL_notes.html" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/distributed.html" class="nav-link">
  Distributed System
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/redis-notes.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/CSS-notes.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/html-notes.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/jsNotes.html" class="nav-link">
  JS, TS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/BOM_DOM_notes.html" class="nav-link">
  BOM, DOM, Web API
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/react_notes.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other" class="dropdown-title"><span class="title">Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other" class="mobile-dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/algo_notes.html" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/git_notes.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/DesignPatternNotes.html" class="nav-link">
  Design Pattern
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/mac-notes.html" class="nav-link">
  MacOS
</a></li></ul></div></div> <a href="https://github.com/tangentyh/notes-of-tan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-of-tan/backend/java/javaBasics.html" class="sidebar-link">Java Basics</a></li><li><a href="/notes-of-tan/backend/java/javaUtils.html" class="sidebar-link">Java Utils</a></li><li><a href="/notes-of-tan/backend/java/javaConcurrency.html" class="sidebar-link">Java Concurrency</a></li><li><a href="/notes-of-tan/backend/java/javaIO.html" class="sidebar-link">IO</a></li><li><a href="/notes-of-tan/backend/java/javaMisc.html" aria-current="page" class="active sidebar-link">Java Miscellanea</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#text" class="sidebar-link">Text</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#regex" class="sidebar-link">Regex</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#regex-syntax" class="sidebar-link" style="padding-left:3rem;">Regex Syntax</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#characters-and-character-classes" class="sidebar-link" style="padding-left:4rem;">Characters and Character Classes</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#matchers-quantifiers-and-others" class="sidebar-link" style="padding-left:4rem;">Matchers, Quantifiers and Others</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#regex-classes" class="sidebar-link" style="padding-left:3rem;">Regex Classes</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#format" class="sidebar-link">Format</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#logging" class="sidebar-link">Logging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#logger" class="sidebar-link">Logger</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#log-levels-and-records" class="sidebar-link">Log Levels and Records</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#handlers" class="sidebar-link">Handlers</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#filters" class="sidebar-link" style="padding-left:3rem;">Filters</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#formatters" class="sidebar-link" style="padding-left:3rem;">Formatters</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#jdbc" class="sidebar-link">JDBC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#jdbc-properties" class="sidebar-link">JDBC Properties</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#jdbc-classes" class="sidebar-link">JDBC Classes</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#row-sets" class="sidebar-link" style="padding-left:3rem;">Row Sets</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#time" class="sidebar-link">Time</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#i18n" class="sidebar-link">i18n</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#number-format" class="sidebar-link">Number Format</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#collator-and-normalizer" class="sidebar-link">Collator and Normalizer</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#resource-bundles" class="sidebar-link">Resource Bundles</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#security" class="sidebar-link">Security</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/backend/java/javaMisc.html#other-java-apis" class="sidebar-link">Other Java APIs</a></li></ul></li><li><a href="/notes-of-tan/backend/java/JVM.html" class="sidebar-link">JVM</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java-miscellanea"><a href="#java-miscellanea" class="header-anchor">#</a> Java Miscellanea</h1> <h2 id="text"><a href="#text" class="header-anchor">#</a> Text</h2> <ol><li><p><code>String</code> — see <a href="/notes-of-tan/backend/java/javaBasics.html#string"><code>String</code></a></p></li> <li><p><code>Character</code> — see also <a href="/notes-of-tan/backend/java/javaBasics.html#primitive-types">char</a></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Character</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>general category in the <a href="http://unicode.org/reports/tr44/#General_Category_Values" target="_blank" rel="noopener noreferrer">Unicode specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>defined in static fields as <code>byte</code></li> <li><code>static int getType(char ch)</code></li> <li><code>static int getType(int codePoint)</code></li></ul></li> <li>wrapping and outboxing
<ul><li><code>Character(char value)</code></li> <li><code>static Character valueOf(char c)</code></li> <li><code>char charValue()</code></li></ul></li> <li>conversion between code points
<ul><li>casts and <code>0 + 'a'</code></li> <li><code>static char[] toChars(int codePoint)</code></li> <li><code>static int toChars(int codePoint, char[] dst, int dstIndex)</code></li> <li><code>static int toCodePoint(char high, char low)</code></li> <li><code>codePointAt</code></li> <li><code>codePointBefore</code></li> <li><code>codePointCount</code></li> <li><code>static char forDigit(int digit, int radix)</code> — 1 to <code>'1'</code>, 10 to <code>'a'</code> etc.</li> <li><code>static int getNumericValue(char ch)</code> — also for characters like <code>Ⅺ</code> (Roman number)<br> <code>static int getNumericValue(int codePoint)</code></li></ul></li> <li><code>Character.UnicodeScript</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">enum</span> <span class="token class-name">UnicodeScript</span>
</code></pre></div><ul><li>script names — enum constants</li> <li><code>static Character.UnicodeScript forName(String scriptName)</code></li> <li><code>static Character.UnicodeScript of(int codePoint)</code></li></ul></li> <li><code>Character.UnicodeBlock</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Character<span class="token punctuation">.</span>UnicodeBlock</span>
<span class="token keyword">extends</span> <span class="token class-name">Character<span class="token punctuation">.</span>Subset</span>
</code></pre></div><ul><li>Unicode character block names — static fields</li> <li><code>static Character.UnicodeBlock forName(String blockName)</code></li> <li><code>static Character.UnicodeBlock of(char c)</code></li> <li><code>static Character.UnicodeBlock of(int codePoint)</code></li></ul></li> <li><code>Character.Subset</code> — for extending, represents particular subsets of the Unicode character set</li> <li>more</li></ul></li> <li><p><code>java.nio.charset.Charset</code> — A named mapping between sequences of sixteen-bit Unicode code units and sequences of byte</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Charset</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Charset</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>static Charset defaultCharset()</code></li></ul></li> <li><p><code>java.text.StringCharacterIterator</code></p></li></ol> <h3 id="regex"><a href="#regex" class="header-anchor">#</a> Regex</h3> <h4 id="regex-syntax"><a href="#regex-syntax" class="header-anchor">#</a> Regex Syntax</h4> <h5 id="characters-and-character-classes"><a href="#characters-and-character-classes" class="header-anchor">#</a> Characters and Character Classes</h5> <ol><li><p>characters</p> <ul><li><code>\0n</code>, <code>\0nn</code>, <code>\0mnn</code> — ASCII (0~255 or 0~0o377) in octal</li> <li><code>\xhh</code>, <code>\uhhhh</code>, <code>\x{h...h}</code> — hexadecimal unicode</li> <li><code>\t</code>, <code>\n</code>, <code>\r</code></li> <li><code>\f</code> — form feed <code>\x0c</code></li> <li><code>\a</code> — alert (bell), <code>\x07</code></li> <li><code>\e</code> — escape, <code>\x1b</code></li> <li><code>\cx</code> — control character, <code>\ch</code> for <code>ctrl-h</code> (backspace, <code>\x08</code>)</li> <li><code>\R</code> (matcher) — any Unicode line break sequence, is equivalent to <code>\r\n|[\n\u000B\f\r\u0085\u2028\u2029]</code></li></ul></li> <li><p>character classes</p> <ul><li><code>[a-zA-Z]</code> — a through z or A through Z, inclusive (range)</li> <li><code>[a-d[m-p]]</code> — a through d, or m through p: <code>[a-dm-p]</code> (union)</li> <li><code>[a-z&amp;&amp;[def]]</code> — d, e, or f (intersection)</li> <li><code>[a-z&amp;&amp;[^bc]]</code> — a through z, except for b and c: <code>[ad-z]</code> (subtraction)</li> <li><code>[a-z&amp;&amp;[^m-p]]</code> — a through z, and not m through p: <code>[a-lq-z]</code> (subtraction)</li> <li><code>[\p{L}&amp;&amp;[^\p{Lu}]]</code> — any letter except an uppercase letter (subtraction)</li> <li>predefined non <code>\p</code> <ul><li><code>.</code> — any character, including line terminators if <code>DOTALL</code></li> <li><code>\d</code> — a digit: <code>[0-9]</code><br> <code>\D</code> — a non-digit: <code>[^0-9]</code></li> <li><code>\h</code> — a horizontal whitespace character: <code>[ \t\xA0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000]</code><br> <code>\H</code> — a non-horizontal whitespace character: <code>[^\h]</code></li> <li><code>\s</code> — a whitespace character: <code>[ \t\n\x0B\f\r]</code><br> <code>\S</code> — a non-whitespace character: <code>[^\s]</code></li> <li><code>\v</code> — a vertical whitespace character: <code>[\n\x0B\f\r\x85\u2028\u2029]</code><br> <code>\V</code> — a non-vertical whitespace character: <code>[^\v]</code></li> <li><code>\w</code> — a word character: <code>[a-zA-Z_0-9]</code><br> <code>\W</code> — a non-word character: <code>[^\w]</code></li></ul></li></ul></li> <li><p>predefined character classes — <code>\p{prop}</code>, <code>\P{prop}</code> for negation, can be <code>\pX</code> if <code>prop</code> only takes one letter</p> <ul><li><a href="https://www.regular-expressions.info/unicode.html" target="_blank" rel="noopener noreferrer">Regex Tutorial - Unicode Characters and Properties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>predefined POSIX ASCII, <code>\p{ASCII}</code> — all ASCII:<code>[\x00-\x7F]</code> <ul><li><code>\p{Print}</code> — a printable character: <code>[\p{Graph}\x20]</code> <ul><li><code>\p{Graph}</code> — a visible character: <code>[\p{Alnum}\p{Punct}]</code> <ul><li><code>\p{Punct}</code> — punctuation: One of <code>!&quot;#$%&amp;'()*+,-./:;&lt;=&gt;?@[\]^_{|}~</code> and backtick</li> <li><code>\p{Alnum}</code> — an alphanumeric character:<code>[\p{Alpha}\p{Digit}]</code> <ul><li><code>\p{Digit}</code> — a decimal digit: <code>[0-9]</code> or <code>\d</code></li> <li><code>\p{XDigit}</code> — a hexadecimal digit: <code>[0-9a-fA-F]</code></li> <li><code>\p{Alpha}</code> — an alphabetic character:<code>[\p{Lower}\p{Upper}]</code> <ul><li><code>\p{Lower}</code> — a lower-case alphabetic character: <code>[a-z]</code></li> <li><code>\p{Upper}</code> — an upper-case alphabetic character:<code>[A-Z]</code></li></ul></li></ul></li></ul></li></ul></li> <li><code>\p{Blank}</code> — a space or a tab: <code>[ \t]</code></li> <li><code>\p{Cntrl}</code> — a control character: <code>[\x00-\x1F\x7F]</code></li> <li><code>\p{Space}</code> — a whitespace character: <code>[ \t\n\x0B\f\r]</code></li></ul></li> <li>predefined by <code>Character</code> methods
<ul><li><code>\p{javaLowerCase}</code> — Equivalent to <code>Character.isLowerCase()</code></li> <li><code>\p{javaUpperCase}</code> — Equivalent to <code>Character.isUpperCase()</code></li> <li><code>\p{javaWhitespace}</code> — Equivalent to <code>Character.isWhitespace()</code></li> <li><code>\p{javaMirrored}</code> — Equivalent to <code>Character.isMirrored()</code></li> <li>more</li></ul></li> <li>predefined Unicode properties
<ul><li><code>\p{IsLatin}</code> — a Latin script character (prefix <code>Is</code> with <code>Character.UnicodeScript</code> enum value)</li> <li><code>\p{InGreek}</code> — a character in the Greek block (prefix <code>In</code> with <code>Character.UnicodeBlock</code> static fields)</li> <li><code>\p{Lu}</code>, <code>\p{gc=Lu}</code> — an uppercase letter (<a href="http://unicode.org/reports/tr44/#General_Category_Values" target="_blank" rel="noopener noreferrer">general category<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, also partially documented in the javadoc of static fields in <code>Character</code>)</li> <li><code>\P{InGreek}</code> — any character except one in the Greek block (negation)</li> <li><code>\p{IsAlphabetic}</code> — an alphabetic character (binary property, <code>Is</code> prefix with below), conform with POSIX character classes when <code>UNICODE_CHARACTER_CLASS</code> <ul><li><code>Alphabetic</code></li> <li><code>Ideographic</code></li> <li><code>Letter</code></li> <li><code>Lowercase</code> — granted to conform with <code>\p{Lower}</code> when <code>UNICODE_CHARACTER_CLASS</code></li> <li><code>Uppercase</code></li> <li><code>Titlecase</code></li> <li><code>Punctuation</code></li> <li><code>Control</code></li> <li><code>White_Space</code></li> <li><code>Digit</code></li> <li><code>Hex_Digit</code></li> <li><code>Join_Control</code></li> <li><code>Noncharacter_Code_Point</code></li> <li><code>Assigned</code></li></ul></li></ul></li></ul></li></ol> <h5 id="matchers-quantifiers-and-others"><a href="#matchers-quantifiers-and-others" class="header-anchor">#</a> Matchers, Quantifiers and Others</h5> <ol><li><p>line break matcher <code>\R</code> — any Unicode line break sequence, is equivalent to <code>\r\n|[\n\u000B\f\r\u0085\u2028\u2029]</code></p> <ul><li><code>\u000B</code> — a vertical tab</li> <li><code>\u0085</code> — a next-line character</li> <li><code>\u2028</code> — a line-separator character</li> <li><code>\u2029</code> — a paragraph-separator character</li> <li>line terminator
<ul><li><code>\n</code>, <code>\r</code>, <code>\r\n</code></li> <li><code>\u0085</code>, <code>\u2028</code>, <code>\u2029</code></li></ul></li> <li>line terminator when <code>UNIX_LINES</code> — <code>\n</code></li></ul></li> <li><p>Boundary matchers</p> <ul><li><code>^</code> <code>$</code> — ignore line terminators and only match at the beginning and the end, respectively, of the entire input sequence; respect line terminators when <code>MULTILINE</code></li> <li><code>\b</code> — A word boundary</li> <li><code>\B</code> — A non-word boundary</li> <li><code>\A</code> — The beginning of the input</li> <li><code>\G</code> — The end of the previous match</li> <li><code>\Z</code> — The end of the input but for the final terminator, if any</li> <li><code>\z</code> — The end of the input</li></ul></li> <li><p>quantifiers</p> <ul><li>Greedy quantifiers</li> <li>Reluctant quantifiers — non-greedy</li> <li>Possessive quantifiers — greedy quantifiers that do not backtrack (no turning back to accommodate other parts of the pattern once matched)<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;.*+foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xfooxxxxxxfoo&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// $1 ==&gt; false</span>
<span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;.*foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xfooxxxxxxfoo&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// $2 ==&gt; true</span>
</code></pre></div><ul><li><code>X?+</code></li> <li><code>X*+</code></li> <li><code>X++</code></li> <li><code>X{n}+</code></li> <li><code>X{n,}+</code></li> <li><code>X{n,m}+</code></li></ul></li></ul></li> <li><p>Logical operators</p> <ul><li><code>XY</code> — X followed by Y</li> <li><code>X|Y</code> — Either X or Y</li> <li><code>(X)</code> — X, as a capturing group</li></ul></li> <li><p>Back references</p> <ul><li><code>\n</code> — Whatever the nth capturing group matched</li> <li><code>\k&lt;name&gt;</code> — Whatever the named-capturing group &quot;name&quot; matched</li></ul></li> <li><p>capturing group and flags</p> <ul><li><code>((A)(B(C)))</code> — numbered by counting their opening parentheses from left to right<div class="language- extra-class"><pre class="language-text"><code>1    ((A)(B(C)))
2    (A)
3    (B(C))
4    (C)
</code></pre></div><ul><li><code>\0</code> — stands for the entire expression</li> <li>if quantification — most recently matched</li></ul></li> <li><code>(?&lt;name&gt;X)</code> — X, as a named-capturing group, name matches <code>\p{Alpha}\p{Alnum}*</code></li> <li><code>(?idmsuxU-idmsuxU)</code> — Nothing, but turns match flags <code>i</code> <code>d</code> <code>m</code> <code>s</code> <code>u</code> <code>x</code> <code>U</code> on - off</li> <li><code>(?:X)</code> — X, as a non-capturing group
<ul><li><code>(?idmsux-idmsux:X)</code> — X, as a non-capturing group with the given flags i d m s u x on - off</li></ul></li> <li><code>(?&gt;X)</code> — X, as an independent, non-capturing group, similar to possessive quantifiers<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;a(?&gt;bc|b)c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// $1 ==&gt; false</span>
<span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;a(?&gt;bc|b)c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abcc&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// $2 ==&gt; true</span>
</code></pre></div><ul><li>optimization — more performance for patterns like <code>(?&gt;.*\/)(.*)</code>, <code>\b(integer|insert|in)\b</code></li> <li>order — for &quot;insert&quot;, <code>\b(?&gt;integer|insert|in)\b</code> matches but <code>\b(?&gt;in|integer|insert)\b</code> does not match</li></ul></li></ul></li> <li><p>Quotation</p> <ul><li><code>\</code> — Nothing, but quotes the following character</li> <li><code>\Q...\E</code> — Nothing, but quotes all characters until \E</li></ul></li> <li><p>assertion</p> <ul><li><code>(?=X)</code> — X, via zero-width positive lookahead</li> <li><code>(?!X)</code> — X, via zero-width negative lookahead</li> <li><code>(?&lt;=X)</code> — X, via zero-width positive lookbehind</li> <li><code>(?&lt;!X)</code> — X, via zero-width negative lookbehind</li></ul></li></ol> <h4 id="regex-classes"><a href="#regex-classes" class="header-anchor">#</a> Regex Classes</h4> <ol><li><p><code>java.util.regex.Pattern</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Pattern</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li>flags — bit vector
<ul><li>encoding and case
<ul><li><code>static int CANON_EQ</code> — canonical equivalence, e.g. <code>a\u030A</code> and <code>å</code></li> <li><code>static int CASE_INSENSITIVE</code> — <code>(?i)</code>, only for US ASCII</li> <li><code>static int UNICODE_CASE</code> - <code>(?u)</code>, also Unicode-aware case folding when <code>i</code></li> <li><code>static int UNICODE_CHARACTER_CLASS</code> — <code>(?U)</code>, implies <code>u</code>, select Unicode character classes instead of POSIX, see before</li></ul></li> <li>line terminator
<ul><li><code>static int DOTALL</code> — <code>(?s)</code>, make <code>.</code> match line terminators</li> <li><code>static int MULTILINE</code> — <code>(?m)</code>, make <code>^</code> and <code>$</code> match multiple lines</li> <li><code>static int UNIX_LINES</code> — <code>(?d)</code>, only <code>\n</code> as line terminator for <code>.</code>, <code>^</code>, <code>$</code></li></ul></li> <li>literal and comments
<ul><li><code>static int LITERAL</code> — literal parsing of meta characters or escape sequences, only <code>u</code> and <code>i</code> flag work in this mode</li> <li><code>static int COMMENTS</code> — <code>(?x)</code>, ignore white spaces and comments which start with <code>#</code></li></ul></li></ul></li> <li>creation
<ul><li><code>static Pattern compile(String regex)</code></li> <li><code>static Pattern compile(String regex, int flags)</code></li> <li><code>static String quote(String s)</code> — quote with <code>\Q...\E</code></li></ul></li> <li>use
<ul><li><code>static boolean matches(String regex, CharSequence input)</code></li> <li><code>String::split</code></li> <li><code>String[] split(CharSequence input)</code></li> <li><code>String[] split(CharSequence input, int limit)</code></li> <li><code>Stream&lt;String&gt; splitAsStream(CharSequence input)</code></li> <li><code>Matcher matcher(CharSequence input)</code></li> <li><code>Predicate&lt;String&gt; asPredicate()</code></li></ul></li> <li>get info
<ul><li><code>int flags()</code></li> <li><code>String pattern()</code></li> <li><code>String toString()</code></li></ul></li></ul></li> <li><p><code>interface java.util.regex.MatchResult</code> — group related, defaults to using group 0, available if match succeeds</p> <ul><li>starting index and the past-the-end index
<ul><li><code>int end()</code></li> <li><code>int end(int group)</code></li> <li><code>int start()</code></li> <li><code>int start(int group)</code></li></ul></li> <li>group
<ul><li><code>String group()</code></li> <li><code>String group(int group)</code></li> <li><code>int groupCount()</code></li></ul></li></ul></li> <li><p><code>java.util.regex.Matcher</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Matcher</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">MatchResult</span>
</code></pre></div><ul><li>match operation — <code>MatchResult</code> available if succeeds
<ul><li><code>boolean matches()</code> — match the entire region</li> <li><code>boolean lookingAt()</code> — <code>matches()</code> but does not require the entire region be matched</li> <li><code>boolean find()</code> — find from the first character not matched by the previous match</li> <li><code>boolean find(int start)</code> — reset and find from <code>start</code></li> <li>replace methods</li></ul></li> <li>reset — discards its explicit state information and sets the append position to zero
<ul><li><code>boolean find(int start)</code> — reset and find from <code>start</code></li> <li><code>Matcher reset()</code></li> <li><code>Matcher reset(CharSequence input)</code> — reset with a new input sequence</li></ul></li> <li><code>MatchResult</code> <ul><li>methods in <code>MatchResult</code></li> <li><code>int end(String name)</code></li> <li><code>String group(String name)</code></li> <li><code>int start(String name)</code></li> <li><code>MatchResult toMatchResult()</code> — result unaffected by subsequent operations</li> <li><code>boolean requireEnd()</code> — whether more input could change a positive match into a negative one</li></ul></li> <li>region — the region of input to match against
<ul><li><code>Matcher region(int start, int end)</code></li> <li><code>int regionEnd()</code></li> <li><code>int regionStart()</code></li> <li><code>Matcher useAnchoringBounds(boolean b)</code> — defaults to using anchoring bounds, the boundaries of the region match anchors such as <code>^</code> and <code>$</code></li> <li><code>boolean hasAnchoringBounds()</code></li> <li><code>Matcher useTransparentBounds(boolean b)</code> — defaults to using opaque bounds, the boundaries of the region are opaque, to lookahead, lookbehind, and boundary matching constructs that may try to see beyond them</li> <li><code>boolean hasTransparentBounds()</code></li></ul></li> <li>replace
<ul><li><code>Matcher appendReplacement(StringBuffer sb, String replacement)</code> — used by <code>replaceAll</code> and <code>replaceFirst</code>, <code>IllegalStateException</code> if no match available<br> <code>StringBuffer appendTail(StringBuffer sb)</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;one cat two cats in the yard&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sb<span class="token punctuation">,</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
m<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// one dog</span>
<span class="token comment">// one dog two dog</span>
<span class="token comment">// one dog two dogs in the yard</span>
</code></pre></div></li> <li><code>String replaceAll(String replacement)</code></li> <li><code>String replaceFirst(String replacement)</code></li> <li><code>static String quoteReplacement(String s)</code> — quote <code>\</code> and <code>$</code>: otherwise <code>\</code> for escape, <code>${name}</code> for named groups, <code>$0</code> to <code>$9</code> for group number</li></ul></li> <li>get, set info
<ul><li><code>Pattern pattern()</code></li> <li><code>Matcher usePattern(Pattern newPattern)</code> — position in the input and last append position are unaffected</li> <li><code>String toString()</code></li> <li><code>boolean hitEnd()</code></li></ul></li></ul></li></ol> <h3 id="format"><a href="#format" class="header-anchor">#</a> Format</h3> <ol><li><p><code>java.util.Formatter</code></p> <ul><li><code>String::format</code></li></ul></li> <li><p><code>java.text.MessageFormat</code> — partially similar to <code>str.format</code> in Python</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageFormat</span>
<span class="token keyword">extends</span> <span class="token class-name">Format</span>
</code></pre></div><ul><li>creation
<ul><li><code>MessageFormat(String pattern)</code></li></ul></li> <li><code>static String format(String pattern, Object... arguments)</code> — uses the current locale</li> <li><code>public final String format(Object obj)</code></li> <li>choice formatting — <code>{1,choice,0#no houses|1#one house|2#{1} houses}</code>, see javadoc for more</li></ul></li></ol> <h2 id="logging"><a href="#logging" class="header-anchor">#</a> Logging</h2> <ol><li>log4j2 with slf4j<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!-- 使用log4j2要排除logBack依赖 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Spring已经写好了一个log4j2-starter但缺少桥接包 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-log4j2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 引入缺少的桥接包 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jcl-over-slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>org.apache.logging.log4j.ThreadContext</code> — stores properties in the current thread</li></ul></li></ol> <h3 id="logger"><a href="#logger" class="header-anchor">#</a> Logger</h3> <ol><li><p>use logger</p> <ul><li>prevent gc — A logger that is not referenced by any variable can be garbage collected<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> myLogger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;com.mycompany.myapp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>hierarchy — child loggers inherit certain properties from parent loggers</li> <li>levels — <code>Level</code> <ul><li><code>Level.INFO</code> by default</li></ul></li> <li>stack info — default log record shows the name of the class and method that contain the logging call, as inferred from the call stack
<ul><li>call info and optimization — the virtual machine optimizes execution, accurate call information may not be available</li> <li><code>Logger::logp</code> to set calling point explicitly</li></ul></li> <li>log configuration — processed by <code>LogManager</code> <ul><li>manager object property — <code>java.util.logging.manager</code>, if <code>null</code> the no-arg protected constructor is used</li> <li>configuration class property — <code>java.util.logging.config.class</code>, take precedence over config files</li> <li>configuration file — <code>java.util.logging.config.file</code> <ul><li>default config file — <code>$JAVA_HOME/lib/logging.properties</code>, or <code>$JAVA_HOME/conf/logging.properties</code> for JDK &gt;= 9</li> <li><code>.level=INFO</code> — default global logging level</li> <li><code>java.util.logging.ConsoleHandler.level=INFO</code> — log level for <code>ConsoleHandler</code></li> <li>hierarchy — <code>foo.level</code> defines a log level for the logger called &quot;foo&quot; and (recursively) for any of its children in the naming hierarchy</li> <li>children after parents — level settings for child nodes in the tree should come after settings for their parents</li></ul></li></ul></li> <li>localization — use resource bundle<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>loggerName<span class="token punctuation">,</span> <span class="token string">&quot;com.mycompany.logmessages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span><span class="token constant">INFO</span><span class="token punctuation">,</span> <span class="token string">&quot;readingFile&quot;</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fill placeholder</span>
</code></pre></div><ul><li>resource bundles
<ul><li>such as <code>com/mycompany/logmessages_de.properties</code></li> <li>property with placeholder — <code>readingFile=Achtung! Datei {0} wird eingelesen</code></li></ul></li> <li>log with explicit resource bundle — <code>Logger::logrb</code></li> <li>get and set resource bundle — <code>Logger::getResourceBundle</code>, <code>Logger::setResourceBundle</code></li></ul></li></ul></li> <li><p><code>java.util.logging.Logger</code></p> <ul><li>creation — uses <code>LogManager</code> behind the scenes
<ul><li><code>static Logger getGlobal()</code></li> <li><code>static Logger getAnonymousLogger()</code></li> <li><code>static Logger getAnonymousLogger(String resourceBundleName)</code></li> <li><code>static Logger getLogger(String name)</code></li> <li><code>static Logger getLogger(String name, String resourceBundleName)</code></li></ul></li> <li>settings
<ul><li><code>void setLevel(Level newLevel)</code></li> <li><code>void setFilter(Filter newFilter)</code></li></ul></li> <li>handler
<ul><li><code>void setUseParentHandlers(boolean useParentHandlers)</code></li> <li><code>void addHandler(Handler handler)</code></li></ul></li> <li>hierarchy
<ul><li><code>void setParent(Logger parent)</code></li> <li><code>Logger getParent()</code></li></ul></li> <li>log — uses <code>Handler::publish</code> behind the scenes
<ul><li><code>void info(String msg)</code><br> <code>void info(Supplier&lt;String&gt; msgSupplier)</code> <ul><li>all levels have methods, except <code>Level.ALL</code> and <code>Level.OFF</code></li></ul></li> <li><code>void log(Level level, String msg)</code><br> <code>void log(Level level, Supplier&lt;String&gt; msgSupplier)</code></li> <li><code>void logp(Level level, String sourceClass, String sourceMethod, String msg)</code> — give the precise location of the calling class and method</li></ul></li> <li>log errors
<ul><li><code>void throwing(String sourceClass, String sourceMethod, Throwable thrown)</code> <ul><li><code>FINER</code> level</li> <li>message starts with <code>THROW</code></li></ul></li> <li><code>void log(Level level, String msg, Throwable thrown)</code></li> <li><code>void logp(Level level, String sourceClass, String sourceMethod, String msg, Throwable thrown)</code></li></ul></li> <li>pass values into placeholders (in property files)
<ul><li><code>void log(Level level, String msg, Object param1)</code></li> <li><code>void log(Level level, String msg, Object[] params)</code></li></ul></li> <li>log execution flow — place at the start and the end of methods, level is <code>FINER</code> <ul><li><code>void entering(String sourceClass, String sourceMethod)</code><br> <code>void entering(String sourceClass, String sourceMethod, Object param1)</code><br> <code>void entering(String sourceClass, String sourceMethod, Object[] params)</code> <ul><li>log records start with <code>ENTRY</code></li></ul></li> <li><code>void exiting(String sourceClass, String sourceMethod)</code><br> <code>void exiting(String sourceClass, String sourceMethod, Object result)</code> <ul><li>log records start with <code>RETURN</code></li></ul></li></ul></li></ul></li> <li><p><code>java.util.logging.LogManager</code> — singleton to maintain a set of shared state about loggers and log services</p></li></ol> <h3 id="log-levels-and-records"><a href="#log-levels-and-records" class="header-anchor">#</a> Log Levels and Records</h3> <ol><li><p><code>java.util.logging.Level</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Level</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li>levels
<ul><li><code>static Level OFF</code> — <code>Integer.MAX_VALUE</code></li> <li><code>static Level SEVERE</code> — 1000, <code>error</code> for <code>slf4j</code></li> <li><code>static Level WARNING</code> — 900, <code>warn</code> for <code>slf4j</code></li> <li><code>static Level INFO</code> — 800</li> <li><code>static Level CONFIG</code> — 700</li> <li><code>static Level FINE</code> — 500, <code>debug</code>, <code>trace</code> for <code>slf4j</code></li> <li><code>static Level FINER</code> — 400</li> <li><code>static Level FINEST</code> — 300</li> <li><code>static Level ALL</code> — <code>Integer.MIN_VALUE</code></li></ul></li></ul></li> <li><p><code>java.util.logging.LogRecord</code> — used to pass logging requests between the logging framework and individual log Handlers</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogRecord</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li><code>Level getLevel()</code></li> <li><code>String getMessage()</code></li> <li><code>Object[] getParameters()</code></li> <li><code>Throwable getThrown()</code></li> <li>more</li></ul></li></ol> <h3 id="handlers"><a href="#handlers" class="header-anchor">#</a> Handlers</h3> <ol><li><p>handler — all handlers extends <code>Handler</code>, used by <code>Logger::log</code></p> <ul><li>also has level — <code>INFO</code> by default, configurable via configuration file
<ul><li><code>java.util.logging.ConsoleHandler.level=INFO</code></li></ul></li> <li>hierarchy — a logger sends records both to its own handlers and the handlers of the parent
<ul><li>the primordial logger (with name <code>&quot;&quot;</code> ) handler — <code>ConsoleHandler</code></li> <li><code>Logger::setUseParentHandlers</code></li></ul></li> <li>custom handlers can be used — <code>Logger::addHandler</code></li> <li><code>java.util.logging.StreamHandler</code> <ul><li><code>ConsoleHandler</code> — print records to <code>System.err</code></li> <li><code>FileHandler</code> — send records to a file <code>java&lt;number&gt;.log</code> in homedir, or some default dir in Windows, <code>XMLFormatter</code> by default
<ul><li>supports <code>append</code> flag</li> <li>supports file rotation</li> <li>use platform encoding by default — set via property <code>java.util.logging.FileHandler.encoding=UTF-8</code></li></ul></li> <li><code>SocketHandler</code> — sends records to a specified host and port, <code>XMLFormatter</code> by default</li></ul></li> <li><code>java.util.logging.MemoryHandler</code> — Handler that buffers requests in a circular buffer in memory.</li></ul></li> <li><p><code>java.util.logging.Handler</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Handler</span>
</code></pre></div><ul><li><code>abstract void close()</code></li> <li><code>abstract void flush()</code></li> <li><code>abstract void publish(LogRecord record)</code></li> <li>settings
<ul><li><code>void setFilter(Filter newFilter)</code></li> <li><code>void setFormatter(Formatter newFormatter)</code></li> <li><code>void setLevel(Level newLevel)</code></li></ul></li> <li>more</li></ul></li></ol> <h4 id="filters"><a href="#filters" class="header-anchor">#</a> Filters</h4> <ol><li><p>filters — implements <code>Filter</code>, used by handlers</p> <ul><li>in addition to level filtering, logger and handler can have an optional filter</li> <li><code>Logger::setFilter</code>, <code>Handler::setFilter</code> <ul><li>both at most one filter at a time</li></ul></li></ul></li> <li><p><code>java.util.logging.Filter</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Filter</span>
</code></pre></div><ul><li><code>boolean isLoggable(LogRecord record)</code></li></ul></li></ol> <h4 id="formatters"><a href="#formatters" class="header-anchor">#</a> Formatters</h4> <ol><li><p>formatters — extends <code>Formatter</code>, used by handlers</p> <ul><li><code>Handler::setFormatter</code></li></ul></li> <li><p><code>java.util.logging.Formatter</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Formatter</span>
</code></pre></div><ul><li><code>abstract String format(LogRecord record)</code></li> <li>more</li></ul></li></ol> <h2 id="jdbc"><a href="#jdbc" class="header-anchor">#</a> JDBC</h2> <ol><li><code>java.sql.SQLException</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SQLException</span>
<span class="token keyword">extends</span> <span class="token class-name">Exception</span>
<span class="token keyword">implements</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>java.sql.BatchUpdateException</code></li> <li><code>java.sql.SQLClientInfoException</code></li> <li><code>java.sql.SQLNonTransientException</code> <ul><li><code>java.sql.SQLDataException</code></li> <li><code>java.sql.SQLFeatureNotSupportedException</code></li> <li><code>java.sql.SQLIntegrityConstraintViolationException</code></li> <li><code>java.sql.SQLInvalidAuthorizationSpecException</code></li> <li><code>java.sql.SQLNonTransientConnectionException</code></li> <li><code>java.sql.SQLSyntaxErrorException</code></li></ul></li> <li><code>java.sql.SQLRecoverableException</code></li> <li><code>java.sql.SQLTransientException</code> <ul><li><code>java.sql.SQLTimeoutException</code></li> <li><code>java.sql.SQLTransactionRollbackException</code></li> <li><code>java.sql.SQLTransientConnectionException</code></li></ul></li> <li><code>java.sql.SQLWarning</code> <ul><li><code>java.sql.DataTruncation</code></li></ul></li></ul></li></ol> <h3 id="jdbc-properties"><a href="#jdbc-properties" class="header-anchor">#</a> JDBC Properties</h3> <ol><li><p>JDBC system properties</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">jdbc.drivers</span><span class="token punctuation">=</span><span class="token value attr-value">org.postgresql.Driver</span>
<span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:postgresql:example</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">dbuser</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">secret</span>
</code></pre></div></li> <li><p>JDBC driver</p> <ul><li>types
<ul><li>type 1 driver, no in use anymore — translates JDBC to ODBC and relies on an ODBC driver to communicate with the database</li> <li>type 2 driver, deprecated — written partly in Java and partly in native code; it communicates with the client API of a database, platform-specific code required</li> <li>type 3 driver — a pure Java client library that uses a database-independent protocol to communicate database requests to a server component, which then translates the requests into a database-specific protocol</li> <li>type 4 driver — a pure Java library that translates JDBC requests directly to a database-specific protocol</li></ul></li> <li>driver class register — the driver manager iterates through the registered drivers to find a driver that can use the subprotocol specified in the database URL
<ul><li>automatic register as service provider — a jar file is automatically registered if it contains the file <code>META-INF/services/java.sql.Driver</code></li> <li>hard code — load a class and its static initializers executed<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;org.postgresql.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>system property — <code>jdbc.drivers</code>, separated by colons</li></ul></li> <li>debug
<ul><li><code>DriverManager::setLogWriter</code></li> <li>some drivers support trace file parameter in url</li></ul></li></ul></li> <li><p>JDBC url</p> <div class="language- extra-class"><pre class="language-text"><code>jdbc:subprotocol:others
jdbc:derby://localhost:1527/example;create=true
jdbc:postgresql:example
</code></pre></div></li> <li><p>JDBC escape syntax — translate to database-specific syntax variations, see <a href="https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/JDBC-reference-information.html#GUID-DFF83C4A-D0F8-420C-BA66-8681B939B787" target="_blank" rel="noopener noreferrer">JDBC Reference Information<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>control — <code>Statement::setEscapeProcessing</code></li> <li>temporal<div class="language- extra-class"><pre class="language-text"><code>{d '2008-01-24'}
{t '23:59:59'}
{ts '2008-01-24 23:59:59.999'}
</code></pre></div></li> <li>scalar function<div class="language- extra-class"><pre class="language-text"><code>{fn left(?, 20)}
{fn user()}
</code></pre></div></li> <li>calling stored procedures</li> <li>outer joins — <code>oj</code></li> <li>the escape character in <code>LIKE</code> clauses</li></ul></li></ol> <h3 id="jdbc-classes"><a href="#jdbc-classes" class="header-anchor">#</a> JDBC Classes</h3> <ol><li><p>example: establish a connection and execute statements</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">runTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">Statement</span> stat <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stat<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;CREATE TABLE Greetings (Message CHAR(20))&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stat<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO Greetings VALUES ('Hello, World!')&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ResultSet</span> result <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM Greetings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        stat<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;DROP TABLE Greetings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;database.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        props<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> drivers <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.drivers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>drivers <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.drivers&quot;</span><span class="token punctuation">,</span> drivers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>java.sql.DriverManager</code> — for managing a set of JDBC drivers</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DriverManager</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
</code></pre></div><ul><li><code>static Connection getConnection(String url)</code> — the driver manager iterates through the registered drivers to find a driver that can use the subprotocol specified in the database URL<br> <code>static Connection getConnection(String url, Properties info)</code><br> <code>static Connection getConnection(String url, String user, String password)</code></li> <li><code>static void setLogWriter(PrintWriter out)</code></li> <li>more</li></ul></li> <li><p><code>interface java.sql.Wrapper</code> — retrieve the delegate instance when the instance in question is in fact a proxy class</p> <ul><li><code>boolean isWrapperFor(Class&lt;?&gt; iface)</code></li> <li><code>&lt;T&gt; T unwrap(Class&lt;T&gt; iface)</code></li></ul></li> <li><p><code>java.sql.Connection</code> — A connection (session) with a specific database. SQL statements are executed and results are returned within the context of a connection</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Connection</span>
<span class="token keyword">extends</span> <span class="token class-name">Wrapper</span><span class="token punctuation">,</span> <span class="token class-name">AutoCloseable</span>
</code></pre></div><ul><li>metadata
<ul><li><code>DatabaseMetaData getMetaData()</code> — information about the database's tables, its supported SQL grammar, its stored procedures, the capabilities of this connection, and so on</li></ul></li> <li>configuration — should not use a SQL statements to configure if a JDBC method available
<ul><li><code>void abort(Executor executor)</code></li> <li><code>void close()</code></li> <li><code>SQLWarning getWarnings()</code>, <code>void clearWarnings()</code></li> <li><code>String getSchema()</code>, <code>void setSchema(String schema)</code></li> <li><code>getClientInfo</code>, <code>setClientInfo</code></li></ul></li> <li>transaction — should not use a SQL statements to configure if a JDBC method available
<ul><li><code>void setAutoCommit(boolean autoCommit)</code> — defaults to <code>true</code></li> <li><code>boolean getAutoCommit()</code></li> <li><code>void setTransactionIsolation(int level)</code> <ul><li>isolation levels as <code>static int</code> fields — <code>TRANSACTION_NONE</code>, <code>TRANSACTION_READ_COMMITTED</code>, <code>TRANSACTION_READ_UNCOMMITTED</code>, <code>TRANSACTION_REPEATABLE_READ</code>, <code>TRANSACTION_SERIALIZABLE</code></li></ul></li> <li><code>int getTransactionIsolation()</code></li> <li><code>void commit()</code></li> <li><code>Savepoint setSavepoint()</code><br> <code>Savepoint setSavepoint(String name)</code></li> <li><code>void releaseSavepoint(Savepoint savepoint)</code></li> <li><code>void rollback()</code><br> <code>void rollback(Savepoint savepoint)</code></li></ul></li> <li>statements — one or more, according to <code>DatabaseMetaData::getMaxStatements</code> <ul><li><code>Statement createStatement()</code><br> <code>Statement createStatement(int resultSetType, int resultSetConcurrency)</code><br> <code>Statement createStatement(int resultSetType, int resultSetConcurrency, int resultSetHoldability)</code> <ul><li><code>resultSetType</code> — <code>ResultSet.TYPE_FORWARD_ONLY</code>, <code>ResultSet.TYPE_SCROLL_INSENSITIVE</code>, <code>ResultSet.TYPE_SCROLL_SENSITIVE</code></li> <li><code>resultSetConcurrency</code> — <code>ResultSet.CONCUR_READ_ONLY</code>, <code>ResultSet.CONCUR_UPDATABLE</code></li> <li><code>resultSetHoldability</code> — <code>ResultSet.HOLD_CURSORS_OVER_COMMIT</code>, <code>ResultSet.CLOSE_CURSORS_AT_COMMIT</code></li></ul></li> <li><code>prepareCall</code> — for <code>CALL</code> stored procedures</li> <li><code>prepareStatement</code> — <code>PREPARE</code> and <code>EXECUTE</code></li></ul></li> <li><code>java.sql.DatabaseMetaData</code> — information about the DBMS, the driver, and the results of some <code>SHOW</code> statements<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DatabaseMetaData</span> <span class="token keyword">extends</span> <span class="token class-name">Wrapper</span>
</code></pre></div><ul><li><code>ResultSet getTables(String catalog, String schemaPattern, String tableNamePattern, String[] types)</code></li></ul></li></ul></li> <li><p><code>java.sql.Statement</code> — executing a static SQL statement and returning the results</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Statement</span>
<span class="token keyword">extends</span> <span class="token class-name">Wrapper</span><span class="token punctuation">,</span> <span class="token class-name">AutoCloseable</span>
</code></pre></div><ul><li>one <code>ResultSet</code> a time — all execution methods in the <code>Statement</code> interface implicitly close a current <code>ResultSet</code> object of the statement if an open one exists</li> <li><code>ResultSet getResultSet()</code></li> <li><code>getMoreResults</code> — for databases that also allow submission of multiple SELECT statements in a single query</li> <li><code>void setEscapeProcessing(boolean enable)</code> — defaults to <code>true</code></li> <li>autogenerated keys — whether retrieve autogenerated keys, often the primary key
<ul><li><code>int executeUpdate(String sql, int autoGeneratedKeys)</code> and other methods
<ul><li><code>static int RETURN_GENERATED_KEYS</code></li> <li><code>static int NO_GENERATED_KEYS</code></li></ul></li></ul></li> <li>batch — no <code>SELECT</code> <ul><li><code>void addBatch(String sql)</code></li> <li><code>int[] executeBatch()</code></li></ul></li> <li>execute
<ul><li><code>execute</code></li> <li><code>int[] executeBatch()</code></li> <li><code>default long[] executeLargeBatch()</code></li> <li><code>executeLargeUpdate</code></li> <li><code>ResultSet executeQuery(String sql)</code></li> <li><code>executeUpdate</code> — returns count for rows affected or 0</li></ul></li></ul></li> <li><p><code>java.sql.PreparedStatement</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PreparedStatement</span> <span class="token keyword">extends</span> <span class="token class-name">Statement</span>
</code></pre></div><ul><li><code>void clearParameters()</code></li> <li>example<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PreparedStatement</span> pSt <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>&quot;<span class="token constant">UPDATE</span> <span class="token constant">EMPLOYEES</span>
                                  <span class="token class-name">SET</span> <span class="token constant">SALARY</span> <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">WHERE</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token operator">?</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
pSt<span class="token punctuation">.</span><span class="token function">setBigDecimal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">153833.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pSt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">110592</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pSt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><code>java.sql.ResultSet</code> — a table of data representing a database result set</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ResultSet</span>
<span class="token keyword">extends</span> <span class="token class-name">Wrapper</span><span class="token punctuation">,</span> <span class="token class-name">AutoCloseable</span>
</code></pre></div><ul><li>cursor — initially positioned before the first row; no <code>hasNext</code>, keep calling <code>next</code> until <code>false</code> <ul><li><code>boolean next()</code> — moves the cursor forward one row from its current position, initially positioned before the first row, <code>false</code> when at last row<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div></li> <li>scrollable cursor
<ul><li><code>boolean absolute(int row)</code></li> <li><code>boolean relative(int rows)</code></li> <li><code>boolean previous()</code></li> <li><code>first</code>, <code>last</code>, <code>beforeFirst</code>, and <code>afterLast</code></li> <li><code>isFirst</code>, <code>isLast</code>, <code>isBeforeFirst</code>, and <code>isAfterLast</code></li></ul></li></ul></li> <li><code>ResultSetMetaData getMetaData()</code> <ul><li><code>ResultSetMetaData::getColumnTypeName</code></li></ul></li> <li><code>get-</code> prefixed methods — get results as a certain type from the current row, two forms of parameters, for types like <code>Array</code>, <code>Blob</code>, <code>Clob</code>, <code>int</code>, <code>String</code> etc.
<ul><li><code>__ get__(int columnIndex)</code> — index starts from 1</li> <li><code>__ get__(String columnLabel)</code></li></ul></li> <li><code>update-</code> prefixed methods — like <code>get-</code> methods, for interactive update
<ul><li><code>void updateRow()</code> — updates the underlying database with the new contents of the current row, changes will be discarded if not called</li> <li><code>void cancelRowUpdates()</code></li></ul></li> <li>insert — for interactive scenarios
<ol><li><code>void moveToInsertRow()</code></li> <li><code>update-</code> methods</li> <li><code>void insertRow()</code></li> <li><code>void moveToCurrentRow()</code></li></ol></li> <li><code>void deleteRow()</code> — for interactive scenarios</li></ul></li> <li><p>JDBC type interfaces</p> <ul><li><code>java.lang</code> type classes, <code>String</code> and stream type classes, <code>java.math</code> type classes, primitive types</li> <li><code>java.net.URL</code> type class</li> <li><code>java.sql.Array</code></li> <li><code>java.sql.Blob</code></li> <li><code>java.sql.Clob</code></li> <li><code>java.sql.Ref</code></li> <li><code>java.sql.RowId</code></li> <li><code>java.sql.SQLData</code> — SQL user-defined type (UDT)</li> <li><code>java.sql.SQLType</code> — a generic SQL type, called a JDBC type or a vendor specific data type</li> <li><code>java.sql.Date</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Date</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span>
</code></pre></div></li> <li><code>java.sql.Time</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Time</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span>
</code></pre></div></li> <li><code>java.sql.Timestamp</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Timestamp</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span>
</code></pre></div></li> <li><code>java.sql.Types</code> — <code>static int</code> constants that are used to identify generic SQL types
<ul><li><code>ARRAY</code>, <code>BIGINT</code>, <code>BINARY</code>, <code>BIT</code>, <code>BLOB</code>, <code>BOOLEAN</code>, <code>TINYINT</code>, <code>VARBINARY</code>, <code>VARCHAR</code></li> <li>more</li></ul></li></ul></li></ol> <h4 id="row-sets"><a href="#row-sets" class="header-anchor">#</a> Row Sets</h4> <ol><li><p><code>javax.sql.RowSet</code> — a connected rowset or more commonly, a disconnected rowset</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RowSet</span> <span class="token keyword">extends</span> <span class="token class-name">ResultSet</span>
</code></pre></div><ul><li>`javax.sql.rowset.JdbcRowSet — added functionality of connections, like transaction</li> <li><code>javax.sql.rowset.CachedRowSet</code> — a disconnected rowset<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CachedRowSet</span> <span class="token keyword">extends</span> <span class="token class-name">RowSet</span><span class="token punctuation">,</span> <span class="token class-name">Joinable</span>
</code></pre></div><ul><li><code>javax.sql.rowset.WebRowSet</code> — a cached row set that can be saved to an XML file
<ul><li><code>javax.sql.rowset.FilteredRowSet</code> — for filtering</li> <li><code>javax.sql.rowset.JoinRowSet</code> — for <code>JOIN</code></li></ul></li></ul></li></ul></li> <li><p><code>interface javax.sql.rowset.RowSetFactory</code></p> <ul><li><code>__RowSet create__RowSet()</code></li></ul></li> <li><p><code>javax.sql.rowset.RowSetProvider</code></p> <ul><li><code>static RowSetFactory newFactory()</code></li> <li><code>static RowSetFactory newFactory(String factoryClassName, ClassLoader cl)</code></li></ul></li></ol> <h2 id="time"><a href="#time" class="header-anchor">#</a> Time</h2> <ol><li><p>current timestamps</p> <ul><li><code>System</code> <ul><li><code>static long nanoTime()</code></li> <li><code>static long currentTimeMillis()</code></li></ul></li></ul></li> <li><p>SQL and legacy classes</p> <ul><li>timestamps (<code>Instant</code>) — <code>java.util.Date</code>: represents a specific instant in time, with millisecond precision<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Date</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>java.sql.Date</code> — interoperable with SQL <code>DATE</code></li> <li><code>java.sql.Time</code> — interoperable with SQL <code>TIME</code> without a timezone</li> <li><code>java.sql.Timestamp</code> — interoperable with SQL <code>TIMESTAMP</code>, adds the ability to hold the SQL <code>TIMESTAMP</code> fractional seconds value, by allowing the specification of fractional seconds to a precision of nanoseconds</li></ul></li> <li>calendars — <code>java.util.Calendar</code>: for converting between a specific instant in time and a set of calendar fields, and for manipulating the calendar fields<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Calendar</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Calendar</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>java.util.GregorianCalendar</code> — a concrete subclass of <code>Calendar</code> and provides the standard calendar system used by most of the world</li></ul></li> <li>timezones — <code>java.util.TimeZone</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">TimeZone</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span>
</code></pre></div><ul><li><code>java.util.SimpleTimeZone</code></li></ul></li> <li>formats
<ul><li><code>java.text.DateFormat</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">DateFormat</span>
<span class="token keyword">extends</span> <span class="token class-name">Format</span>
</code></pre></div><ul><li><code>java.text.SimpleDateFormat</code> — not thread safe, use <code>ThreadLocal</code> to alleviate, see <a href="/notes-of-tan/backend/java/javaConcurrency.html#thread">Thread</a></li></ul></li></ul></li></ul></li> <li><p><code>java.time</code> — dates, times, instants, and durations</p> <ul><li><code>java.time.temporal</code> — lower level access to the fields</li> <li><code>java.time.format</code> — printing and parsing all manner of dates and times</li> <li><code>java.time.chrono</code> — calendar neutral APIs, localized calendars, for interactions with users</li> <li>non-null — non-null constructors and methods, except checking and validating methods</li> <li>API convention
<ul><li><code>of</code> — static factory method</li> <li><code>parse</code> — static factory method focussed on parsing</li> <li><code>get</code> — gets the value of something</li> <li><code>is</code> — checks if something is true</li> <li><code>with</code> — the immutable equivalent of a setter</li> <li><code>plus</code> — adds an amount to an object</li> <li><code>minus</code> — subtracts an amount from an object</li> <li><code>to</code> — converts this object to another type</li> <li><code>at</code> — combines this object with another, such as <code>date.atTime(time)</code></li> <li><code>from</code></li></ul></li> <li>enums
<ul><li><code>java.time.Month</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Month</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Month</span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">implements</span> <span class="token class-name">TemporalAccessor</span><span class="token punctuation">,</span> <span class="token class-name">TemporalAdjuster</span>
</code></pre></div></li> <li><code>java.time.DayOfWeek</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">DayOfWeek</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">implements</span> <span class="token class-name">TemporalAccessor</span><span class="token punctuation">,</span> <span class="token class-name">TemporalAdjuster</span>
</code></pre></div></li></ul></li></ul></li> <li><p><code>java.time.Instant</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Instant</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Temporal</span><span class="token punctuation">,</span> <span class="token class-name">TemporalAdjuster</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Instant</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li>SQL type — <code>TIMESTAMP</code> with a timezone</li> <li>epoch
<ul><li><code>static Instant EPOCH</code> — Constant for the 1970-01-01T00:00:00Z epoch instant.</li> <li><code>static Instant MAX</code> — The maximum supported Instant, '1000000000-12-31T23:59:59.999999999Z'.</li> <li><code>static Instant MIN</code> — The minimum supported Instant, '-1000000000-01-01T00:00Z'.</li></ul></li> <li>creation
<ul><li><code>now</code></li> <li><code>of-</code> prefixed methods</li> <li><code>static Instant parse(CharSequence text)</code></li></ul></li> <li>conversion
<ul><li><code>long toEpochMilli()</code></li> <li><code>String toString()</code></li> <li><code>int getNano()</code></li> <li><code>getLong</code></li></ul></li></ul></li> <li><p><code>java.time.Duration</code> — amount of time, kept in several <code>long</code> for seconds, an <code>int</code> for nanoseconds</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Duration</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">TemporalAmount</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Duration</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li>creation
<ul><li><code>static Duration between(Temporal startInclusive, Temporal endExclusive)</code></li> <li>more</li></ul></li></ul></li> <li><p><code>java.time.OffsetDateTime</code> — A date-time with an offset from UTC/Greenwich in the ISO-8601 calendar system, such as <code>2007-12-03T10:15:30+01:00</code></p> <ul><li>SQL type — <code>TIMESTAMP</code> with a timezone</li></ul></li> <li><p><code>java.time.ZonedDateTime</code> — <code>OffsetDateTime</code> with <code>ZoneId</code>, such as <code>2007-12-03T10:15:30+01:00 Europe/Paris</code></p> <ul><li>SQL type — <code>TIMESTAMP</code> with a timezone</li> <li>The Internet Assigned Numbers Authority (IANA) <a href="www.iana.org/time-zones">database</a></li> <li><code>ZoneId getZone()</code></li> <li><code>OffsetDateTime toOffsetDateTime()</code></li></ul></li> <li><p><code>java.time.LocalDateTime</code></p> <ul><li>SQL type — <code>DATETIME</code></li></ul></li> <li><p><code>java.time.LocalDate</code> — A date without a time-zone in the ISO-8601 calendar system</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">LocalDate</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Temporal</span><span class="token punctuation">,</span> <span class="token class-name">TemporalAdjuster</span><span class="token punctuation">,</span> <span class="token class-name">ChronoLocalDate</span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li>SQL type — <code>DATE</code></li> <li>overflow when <code>plusMonth</code> or <code>minusMonth</code> — return the last valid day of the month</li></ul></li> <li><p><code>java.time.Period</code> — A date-based amount of time in the ISO-8601 calendar system, counterpart of <code>Duration</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Period</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">ChronoPeriod</span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span>
</code></pre></div></li> <li><p><code>java.time.OffsetTime</code></p> <ul><li>SQL type — <code>TIME</code> with a timezone</li></ul></li> <li><p><code>java.time.LocalTime</code></p> <ul><li>SQL type — <code>TIME</code> without a timezone</li></ul></li> <li><p><code>java.time.format.DateTimeFormatter</code> — Formatter for printing and parsing date-time objects</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">DateTimeFormatter</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
</code></pre></div><ul><li>creation
<ul><li>predefined — see javadoc</li> <li><code>ofLocalized-</code> prefixed methods to create from <code>FormatStyle</code></li> <li>patterns — see javadoc for patterns like <code>&quot;E yyyy-MM-dd HH:mm&quot;</code> <ul><li><code>static DateTimeFormatter ofPattern(String pattern)</code></li> <li><code>static DateTimeFormatter ofPattern(String pattern, Locale locale)</code></li></ul></li></ul></li> <li>localized
<ul><li><code>DateTimeFormatter withLocale(Locale locale)</code></li></ul></li> <li>conversion
<ul><li><code>toFormat</code></li></ul></li> <li>format
<ul><li><code>String format(TemporalAccessor temporal)</code></li> <li><code>void formatTo(TemporalAccessor temporal, Appendable appendable)</code></li></ul></li> <li>parse methods
<ul><li><code>LocalDate::parse</code>, <code>LocalDateTime::parse</code>, <code>LocalTime::parse</code>, or <code>ZonedDateTime::parse</code>, not suitable for parsing human input</li> <li>other parse methods</li></ul></li> <li><code>enum java.time.format.FormatStyle</code> — <code>FULL</code>, <code>LONG</code>, <code>MEDIUM</code>, <code>SHORT</code></li> <li><code>java.time.format.TextStyle</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">TextStyle</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TextStyle</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>FULL</code> / <code>FULL_STANDALONE</code></li> <li><code>SHORT</code> / <code>SHORT_STANDALONE</code></li> <li><code>NARROW</code> / <code>NARROW_STANDALONE</code></li> <li><code>Month::getDisplayName</code> — <code>String getDisplayName(TextStyle style, Locale locale)</code></li></ul></li></ul></li></ol> <h2 id="i18n"><a href="#i18n" class="header-anchor">#</a> i18n</h2> <ol><li><p>locale — language code and optionally other codes; language tag like <code>en-US</code></p> <div class="language- extra-class"><pre class="language-text"><code>lang-script-region-extension
</code></pre></div><ul><li>language code — two or three lowercase letters, such as <code>en</code></li> <li>script code — four letters with an initial uppercase, such as <code>Latn</code> (Latin), <code>Cyrl</code> (Cyrillic), or <code>Hant</code> (traditional Chinese characters)</li> <li>country (region) code — two uppercase letters or three digits such as US (United States) or CH (Switzerland)</li> <li>variant: miscellaneous (such as dialects or spelling rules) codes — rarely used or made into extension</li> <li>extension — start with <code>u-</code> and a two-letter code specifying whether the extension deals with the calendar (<code>ca</code>), numbers (<code>nu</code>), and so on; Other extensions are entirely arbitrary and start with <code>x-</code>, such as <code>x-java</code> <ul><li>describe local preferences — calendars (such as the Japanese calendar), numbers (<code>u-nu-thai</code> Thai instead of Western digits), and so on</li></ul></li> <li>example
<ul><li><code>&quot;zh-Hans-CN&quot;</code> — Chinese written in simplified characters as used in China (primary language with script and country codes)</li> <li><code>&quot;ja-JP-u-ca-japanese&quot;</code> — Use the Japanese calendar in date and time formatting, so that 2013 is expressed as the year 25 of the Heisei period, or 平成25</li></ul></li> <li>reference
<ul><li><a href="https://tools.ietf.org/html/bcp47" target="_blank" rel="noopener noreferrer">“Best Current Practices” BCP 47 - Tags for Identifying Languages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.w3.org/International/articles/language-tags/" target="_blank" rel="noopener noreferrer">Language tags in HTML and XML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li> <li><p><code>java.util.Locale</code></p> <ul><li>creation
<ul><li>constructors
<ul><li><code>Locale(String language)</code></li> <li><code>Locale(String language, String country)</code></li> <li><code>Locale(String language, String country, String variant)</code></li></ul></li> <li><code>static Locale forLanguageTag(String languageTag)</code></li> <li><code>static Locale[] getAvailableLocales()</code></li> <li>predefined
<ul><li><code>static char PRIVATE_USE_EXTENSION</code> — The key for the private use extension ('x').</li> <li><code>static char UNICODE_LOCALE_EXTENSION</code> — <code>'u'</code></li> <li><code>static Locale ROOT</code></li> <li><code>static Locale SIMPLIFIED_CHINESE</code></li> <li><code>static Locale US</code></li> <li><code>static Locale UK</code></li> <li>more</li></ul></li> <li>from locale-dependent utility classes — <code>NumberFormat.getAvailableLocales()</code></li> <li><code>Locale.Builder</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Locale<span class="token punctuation">.</span>Builder</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Locale</span> aLocale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setLanguage</span><span class="token punctuation">(</span><span class="token string">&quot;sr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScript</span><span class="token punctuation">(</span><span class="token string">&quot;Latn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setRegion</span><span class="token punctuation">(</span><span class="token string">&quot;RS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li>default — <code>System.getProperty(&quot;user.language&quot;)</code>, <code>System.getProperty(&quot;user.region&quot;)</code> <ul><li><code>static Locale getDefault()</code></li> <li><code>static Locale getDefault(Locale.Category category)</code></li> <li><code>static void setDefault(Locale.Category category, Locale newLocale)</code></li> <li><code>static void setDefault(Locale newLocale)</code></li></ul></li> <li>get methods — show info about this locale</li> <li>transformation
<ul><li><code>Locale stripExtensions()</code></li> <li><code>String toLanguageTag()</code></li></ul></li></ul></li> <li><p><code>java.text.Format</code> — abstract base class for formatting locale-sensitive information such as dates, messages, and numbers</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Format</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span>
</code></pre></div><ul><li>format
<ul><li><code>String format(Object obj)</code></li> <li><code>abstract StringBuffer format(Object obj, StringBuffer toAppendTo, FieldPosition pos)</code></li> <li><code>AttributedCharacterIterator formatToCharacterIterator(Object obj)</code></li></ul></li> <li>parse
<ul><li><code>Object parseObject(String source)</code></li> <li><code>abstract Object parseObject(String source, ParsePosition pos)</code></li> <li>use a Scanner to read localized integers and floating-point numbers — <code>Scanner::useLocale</code></li></ul></li></ul></li> <li><p><code>MessageFormat</code></p> <ul><li>creation
<ul><li><code>MessageFormat(String pattern, Locale locale)</code></li></ul></li> <li>public final String format(Object obj)</li></ul></li></ol> <h3 id="number-format"><a href="#number-format" class="header-anchor">#</a> Number Format</h3> <ol><li><p><code>java.text.NumberFormat</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">NumberFormat</span>
<span class="token keyword">extends</span> <span class="token class-name">Format</span>
</code></pre></div><ul><li>creation
<ul><li><code>static Locale[] getAvailableLocales()</code></li> <li><code>static NumberFormat getCurrencyInstance()</code></li> <li><code>static NumberFormat getCurrencyInstance(Locale inLocale)</code></li> <li><code>static NumberFormat getInstance()</code></li> <li><code>static NumberFormat getInstance(Locale inLocale)</code></li> <li><code>static NumberFormat getIntegerInstance()</code></li> <li><code>static NumberFormat getIntegerInstance(Locale inLocale)</code></li> <li><code>static NumberFormat getNumberInstance()</code></li> <li><code>static NumberFormat getNumberInstance(Locale inLocale)</code></li> <li><code>static NumberFormat getPercentInstance()</code></li> <li><code>static NumberFormat getPercentInstance(Locale inLocale)</code></li></ul></li> <li>settings — get, set methods</li></ul></li> <li><p><code>java.util.Currency</code> — control the currency used by the formatters</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Currency</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Serializable</span>
</code></pre></div><ul><li><code>NumberFormat::serCurrency</code> — <code>void setCurrency(Currency currency)</code></li> <li>creation
<ul><li><code>static Set&lt;Currency&gt; getAvailableCurrencies()</code></li> <li><code>static Currency getInstance(Locale locale)</code></li> <li><code>static Currency getInstance(String currencyCode)</code></li></ul></li> <li>display
<ul><li><code>String getCurrencyCode()</code></li> <li><code>int getDefaultFractionDigits()</code></li> <li><code>String getDisplayName()</code></li> <li><code>String getDisplayName(Locale locale)</code></li> <li><code>int getNumericCode()</code></li> <li><code>String getSymbol()</code></li> <li><code>String getSymbol(Locale locale)</code></li> <li><code>String toString()</code></li></ul></li></ul></li> <li><p><code>java.time.format.DateTimeFormatter</code> — see <a href="#time">Time</a></p></li></ol> <h3 id="collator-and-normalizer"><a href="#collator-and-normalizer" class="header-anchor">#</a> Collator and Normalizer</h3> <ol><li><p><code>java.text.Collator</code> — locale-sensitive String comparison</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Collator</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span>
</code></pre></div><ul><li>decomposition — four normalization forms (D, KD, C, and KC)
<ul><li>normalization forms
<ul><li>In the normalization form C, accented characters are always composed. For example, a sequence of A and a combining ring above ° is combined into a single character Å (recommended by W3C)</li> <li>In form D, accented characters are always decomposed into their base letters and combining accents: Å is turned into A followed by °</li> <li>Forms KC and KD also decompose characters such as ligatures or the trademark symbol</li></ul></li> <li><code>static int NO_DECOMPOSITION</code></li> <li><code>static int CANONICAL_DECOMPOSITION</code></li> <li><code>static int FULL_DECOMPOSITION</code></li></ul></li> <li>strength — in Czech, &quot;e&quot; and &quot;f&quot; are considered primary differences, while &quot;e&quot; and &quot;ě&quot; are secondary differences, &quot;e&quot; and &quot;E&quot; are tertiary differences and &quot;e&quot; and &quot;e&quot; are identical
<ul><li><code>PRIMARY</code>, <code>SECONDARY</code>, <code>TERTIARY</code>, and <code>IDENTICAL</code></li> <li><code>int getStrength()</code></li> <li><code>void setStrength(int newStrength)</code></li></ul></li> <li>creation
<ul><li><code>static Locale[] getAvailableLocales()</code></li> <li><code>static Collator getInstance()</code></li> <li><code>static Collator getInstance(Locale desiredLocale)</code></li></ul></li> <li>compare
<ul><li><code>int compare(Object o1, Object o2)</code></li> <li><code>abstract int compare(String source, String target)</code></li></ul></li> <li>sort — <code>abstract CollationKey getCollationKey(String source)</code> for better performance</li> <li><code>java.text.CollationKey</code> — a series of bits that can be compared bitwise against other <code>CollationKeys</code> of the same <code>Collator</code> object<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CollationKey</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
<span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollationKey</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>abstract int compareTo(CollationKey target)</code></li> <li><code>String getSourceString()</code></li> <li><code>abstract byte[] toByteArray()</code></li></ul></li> <li>example<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">&quot;Peter Öhlund&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Peter Ohlin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Peter Olsdal&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Peter Zorn&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>ss<span class="token punctuation">,</span> <span class="token class-name">Collator</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">GERMANY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>ss<span class="token punctuation">,</span> <span class="token class-name">Collator</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">forLanguageTag</span><span class="token punctuation">(</span><span class="token string">&quot;sv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> collator<span class="token punctuation">.</span><span class="token function">getCollationKey</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> k<span class="token punctuation">.</span><span class="token function">getSourceString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><code>java.text.Normalizer</code> — decomposition in <code>Collator</code>, see <a href="http://www.unicode.org/reports/tr15/tr15-23.html" target="_blank" rel="noopener noreferrer">Unicode Standard Annex #15 — Unicode Normalization Forms<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Normalizer</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
</code></pre></div><ul><li><code>static boolean isNormalized(CharSequence src, Normalizer.Form form)</code></li> <li><code>static String normalize(CharSequence src, Normalizer.Form form)</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;Ångström&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> normalized <span class="token operator">=</span> <span class="token class-name">Normalizer</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token class-name">Normalizer<span class="token punctuation">.</span>Form</span><span class="token punctuation">.</span><span class="token constant">NFD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><code>Normalizer.Form</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">enum</span> <span class="token class-name">Normalizer<span class="token punctuation">.</span>Form</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Normalizer<span class="token punctuation">.</span>Form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>NFC</code></li> <li><code>NFD</code></li> <li><code>NFKC</code></li> <li><code>NFKD</code></li></ul></li></ul></li></ol> <h3 id="resource-bundles"><a href="#resource-bundles" class="header-anchor">#</a> Resource Bundles</h3> <ol><li><p>resource bundles — locale-specific items</p> <ul><li>naming convention
<ul><li>country specific — <code>bundleName_language_country</code></li> <li>language specific — <code>bundleName_language</code></li></ul></li> <li>load order
<ul><li><code>bundleName_currentLocaleLanguage_currentLocaleCountry</code></li> <li><code>bundleName_currentLocaleLanguage</code></li> <li><code>bundleName_currentLocaleLanguage_defaultLocaleCountry</code></li> <li><code>bundleName_defaultLocaleLanguage</code></li> <li><code>bundleName</code></li></ul></li> <li>resource hierarchy — the parents are searched if a lookup was not successful in the current bundle
<ul><li>load — parents are looked up when a bundle is already located</li> <li>order — <code>bundleName_de_DE</code>, then the <code>bundleName_de</code> and <code>bundleName</code></li></ul></li> <li>property files
<ul><li>supported by <code>ResourceBundle::getBundle</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// MyProgramStrings.properties</span>
<span class="token comment">// MyProgramStrings_en.properties</span>
<span class="token comment">// MyProgramStrings_de_DE.properties</span>
<span class="token class-name">ResourceBundle</span> bundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">&quot;MyProgramStrings&quot;</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>only ASCII in property files — use <code>\uxxxx</code> for unicode</li> <li>property with placeholder — <code>readingFile=Achtung! Datei {0} wird eingelesen</code></li></ul></li> <li>bundle classes — to provide resources that are not strings
<ul><li>priority — more prior than property files</li> <li>supported by <code>ResourceBundle::getBundle</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// MyProgramResources.java</span>
<span class="token comment">// MyProgramResources_en.java</span>
<span class="token comment">// MyProgramResources_de_DE.java</span>
<span class="token class-name">ResourceBundle</span> bundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">&quot;MyProgramResources&quot;</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>define bundle classes
<ul><li>extend <code>ListResourceBundle</code><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyProgramResources_de_DE</span> <span class="token keyword">extends</span> <span class="token class-name">ListResourceBundle</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> contents <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;backgroundColor&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>black <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;defaultPaperSize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">297</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> contents<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>extend <code>ResourceBundle</code> and override below methods<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">Object</span> <span class="token function">handleGetObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ul></li></ul></li> <li><p><code>java.util.ResourceBundle</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">ResourceBundle</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span>
</code></pre></div><ul><li>load
<ul><li><code>static ResourceBundle getBundle(String baseName)</code></li> <li><code>static ResourceBundle getBundle(String baseName, Locale locale)</code></li> <li><code>static ResourceBundle getBundle(String baseName, Locale locale, ClassLoader loader)</code></li> <li><code>static ResourceBundle getBundle(String baseName, Locale targetLocale, ClassLoader loader, ResourceBundle.Control control)</code></li> <li><code>static ResourceBundle getBundle(String baseName, Locale targetLocale, ResourceBundle.Control control)</code></li> <li><code>static ResourceBundle getBundle(String baseName, ResourceBundle.Control control)</code></li></ul></li> <li>get
<ul><li><code>Object getObject(String key)</code></li> <li><code>String getString(String key)</code></li> <li><code>String[] getStringArray(String key)</code></li></ul></li></ul></li></ol> <h2 id="security"><a href="#security" class="header-anchor">#</a> Security</h2> <ol><li>security manager — <code>SecurityManager</code> <ul><li>usage — no security manager installed by default, use with <code>System::setSecurityManager</code>, or CLI option <code>-Djava.security.manager</code></li> <li>permission checking — <code>SecurityException</code></li> <li>security policy, <code>java.security.Policy</code> — code sources to permission sets, <code>java.security.Permission</code> <ul><li>protection domain — tbd</li> <li>policy files — tbd
<ul><li>system property — <code>java.security.policy</code>, double equals sign (<code>==</code>) to exclude other standard policy files</li></ul></li></ul></li> <li>Java Authentication and Authorization Service (JAAS) — <code>javax.security.auth.login.LoginContext</code>, tbd
<ul><li>login policies</li></ul></li> <li>tbd</li></ul></li></ol> <h2 id="other-java-apis"><a href="#other-java-apis" class="header-anchor">#</a> Other Java APIs</h2> <ol><li><p>agents — bytecode engineering at load time</p> <ul><li>bytecode engineering compiled classes — <a href="https://asm.ow2.io/" target="_blank" rel="noopener noreferrer">ASM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>CLI
<ul><li><code>-agentlib:&lt;libname&gt;[=&lt;options&gt;]</code></li> <li><code>-agentpath:&lt;pathname&gt;[=&lt;options&gt;]</code></li> <li><code>-javaagent:&lt;jarpath&gt;[=&lt;options&gt;]</code></li></ul></li> <li><code>java.lang.instrument</code> — allow agents to instrument programs running on the JVM. The mechanism for instrumentation is modification of the byte-codes of methods.
<ul><li>more in package javadoc</li></ul></li> <li>build an agent when launching JVM
<ul><li>write an agent class with <code>premain</code>, called when the agent is loaded, before <code>main</code> of programs<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">premain</span><span class="token punctuation">(</span><span class="token class-name">String</span> arg<span class="token punctuation">,</span> <span class="token class-name">Instrumentation</span> instr<span class="token punctuation">)</span>
</code></pre></div><ul><li>CLI options (args) — can get a single one</li> <li><code>agentmain</code> method for agents starting sometime after JVM launched</li></ul></li> <li>write a manifest setting <code>Premain-Class</code><div class="language- extra-class"><pre class="language-text"><code>Premain-Class: bytecodeAnnotations.EntryLoggingAgent
</code></pre></div></li> <li>package the agent class and the manifest<div class="language-shell extra-class"><pre class="language-shell"><code>jar cvfm EntryLoggingAgent.jar bytecodeAnnotations/EntryLoggingAgent.mf <span class="token punctuation">\</span>
    bytecodeAnnotations/Entry*.class
</code></pre></div></li></ul></li></ul></li> <li><p>scripting</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> $<span class="token number">1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>script<span class="token punctuation">.</span></span>ScriptEngineManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEngineByName</span><span class="token punctuation">(</span><span class="token string">&quot;nashorn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{\&quot;a\&quot;: 5}&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> $<span class="token number">7</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>nashorn<span class="token punctuation">.</span>api<span class="token punctuation">.</span>scripting<span class="token punctuation">.</span></span>ScriptObjectMirror</span><span class="token punctuation">)</span> $<span class="token number">1.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;JSON.parse('&quot;</span> <span class="token operator">+</span> json <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token number">7.</span><span class="token function">getMember</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5, Integer</span>
</code></pre></div><ul><li>engines
<ul><li>nashorn — JavaScript engine, included from JDK 8, deprecated from JDK 11</li> <li>groovy</li> <li>Renjin — R language</li> <li>sisc</li></ul></li> <li>bindings — variable contexts</li> <li>new polyglot solution: GraalVM — a Java VM and JDK based on HotSpot/OpenJDK, for running applications written in JavaScript, Python, Ruby, R, JVM-based languages like Java, Scala, Groovy, Kotlin, Clojure, and LLVM-based languages such as C and C++</li></ul></li> <li><p>compiling — <code>javax.tools.JavaCompiler</code> and more</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JavaCompiler</span> compiler <span class="token operator">=</span> <span class="token class-name">ToolProvider</span><span class="token punctuation">.</span><span class="token function">getSystemJavaCompiler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">OutputStream</span> outStream <span class="token operator">=</span> <span class="token punctuation">;</span> <span class="token comment">// null for System.out</span>
<span class="token class-name">OutputStream</span> errStream <span class="token operator">=</span> <span class="token punctuation">;</span> <span class="token comment">// null for System.err</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> outStream<span class="token punctuation">,</span> errStream<span class="token punctuation">,</span> <span class="token string">&quot;-sourcepath&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Test.java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/tangentyh/notes-of-tan/edit/master/docs/backend/java/javaMisc.md" target="_blank" rel="noopener noreferrer">Edit This Page On GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/24/2022, 2:36:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes-of-tan/backend/java/javaIO.html" class="prev">
        IO
      </a></span> <span class="next"><a href="/notes-of-tan/backend/java/JVM.html">
        JVM
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/notes-of-tan/assets/js/app.54e88839.js" defer></script><script src="/notes-of-tan/assets/js/2.56609c80.js" defer></script><script src="/notes-of-tan/assets/js/25.04528b1a.js" defer></script>
  </body>
</html>
