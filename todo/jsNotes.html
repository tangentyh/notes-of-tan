<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docs | Notes of Tan</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="https://v1.vuepress.vuejs.org/hero.png">
    <meta name="description" content="Tan's notes.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-of-tan/assets/css/0.styles.9802d8bc.css" as="style"><link rel="preload" href="/notes-of-tan/assets/js/app.bd5566f0.js" as="script"><link rel="preload" href="/notes-of-tan/assets/js/2.33f31c9b.js" as="script"><link rel="preload" href="/notes-of-tan/assets/js/33.40fadf29.js" as="script"><link rel="prefetch" href="/notes-of-tan/assets/js/10.90ccce99.js"><link rel="prefetch" href="/notes-of-tan/assets/js/11.95d04f86.js"><link rel="prefetch" href="/notes-of-tan/assets/js/12.ef1d3621.js"><link rel="prefetch" href="/notes-of-tan/assets/js/13.a4adee88.js"><link rel="prefetch" href="/notes-of-tan/assets/js/14.c09755c2.js"><link rel="prefetch" href="/notes-of-tan/assets/js/15.3733f8dd.js"><link rel="prefetch" href="/notes-of-tan/assets/js/16.45186f0f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/17.ed547b98.js"><link rel="prefetch" href="/notes-of-tan/assets/js/18.1143a315.js"><link rel="prefetch" href="/notes-of-tan/assets/js/19.c704f56e.js"><link rel="prefetch" href="/notes-of-tan/assets/js/20.7212c2fb.js"><link rel="prefetch" href="/notes-of-tan/assets/js/21.5ada412e.js"><link rel="prefetch" href="/notes-of-tan/assets/js/22.391b670c.js"><link rel="prefetch" href="/notes-of-tan/assets/js/23.49e69635.js"><link rel="prefetch" href="/notes-of-tan/assets/js/24.1ec9070f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/25.c9b3cb0c.js"><link rel="prefetch" href="/notes-of-tan/assets/js/26.6d0133c7.js"><link rel="prefetch" href="/notes-of-tan/assets/js/27.92637cf1.js"><link rel="prefetch" href="/notes-of-tan/assets/js/28.921eb6b3.js"><link rel="prefetch" href="/notes-of-tan/assets/js/29.9de9cb08.js"><link rel="prefetch" href="/notes-of-tan/assets/js/3.f2118d7b.js"><link rel="prefetch" href="/notes-of-tan/assets/js/30.1574681b.js"><link rel="prefetch" href="/notes-of-tan/assets/js/31.97ed5447.js"><link rel="prefetch" href="/notes-of-tan/assets/js/32.061cf937.js"><link rel="prefetch" href="/notes-of-tan/assets/js/34.1cb87aa7.js"><link rel="prefetch" href="/notes-of-tan/assets/js/35.ffb66b35.js"><link rel="prefetch" href="/notes-of-tan/assets/js/36.5b4a09a3.js"><link rel="prefetch" href="/notes-of-tan/assets/js/37.4e57a711.js"><link rel="prefetch" href="/notes-of-tan/assets/js/4.379a9a10.js"><link rel="prefetch" href="/notes-of-tan/assets/js/5.a6215647.js"><link rel="prefetch" href="/notes-of-tan/assets/js/6.8136b6d3.js"><link rel="prefetch" href="/notes-of-tan/assets/js/7.1140570f.js"><link rel="prefetch" href="/notes-of-tan/assets/js/8.bd5a1ed5.js"><link rel="prefetch" href="/notes-of-tan/assets/js/9.98e24ffb.js">
    <link rel="stylesheet" href="/notes-of-tan/assets/css/0.styles.9802d8bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-of-tan/" class="home-link router-link-active"><!----> <span class="site-name">Notes of Tan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaBasics.html" class="nav-link">
  Java Basics
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaUtils.html" class="nav-link">
  Java Utilities
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaConcurrency.html" class="nav-link">
  Java Concurrency
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaIO.html" class="nav-link">
  IO
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaMisc.html" class="nav-link">
  Java Miscellanea
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/JVM.html" class="nav-link">
  Java Virtual Machine
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SpringNotes.html" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/OS-notes.html" class="nav-link">
  OS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/database.html" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SQL_notes.html" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/distributed.html" class="nav-link">
  Distributed System
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/redis-notes.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/CSS-notes.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/html-notes.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/jsNotes.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS, TS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/BOM_DOM_notes.html" class="nav-link">
  BOM, DOM, Web API
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/react_notes.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other" class="dropdown-title"><span class="title">Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other" class="mobile-dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/algo_notes.html" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/git_notes.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/DesignPatternNotes.html" class="nav-link">
  Design Pattern
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/mac-notes.html" class="nav-link">
  MacOS
</a></li></ul></div></div> <a href="https://github.com/tangentyh/notes-of-tan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaBasics.html" class="nav-link">
  Java Basics
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaUtils.html" class="nav-link">
  Java Utilities
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaConcurrency.html" class="nav-link">
  Java Concurrency
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaIO.html" class="nav-link">
  IO
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/javaMisc.html" class="nav-link">
  Java Miscellanea
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/java/JVM.html" class="nav-link">
  Java Virtual Machine
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SpringNotes.html" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/OS-notes.html" class="nav-link">
  OS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/database.html" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/SQL_notes.html" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/distributed.html" class="nav-link">
  Distributed System
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/backend/redis-notes.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/CSS-notes.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/html-notes.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/jsNotes.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS, TS
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/BOM_DOM_notes.html" class="nav-link">
  BOM, DOM, Web API
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/todo/react_notes.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other" class="dropdown-title"><span class="title">Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other" class="mobile-dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-of-tan/algo_notes.html" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/git_notes.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/DesignPatternNotes.html" class="nav-link">
  Design Pattern
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/notes-of-tan/mac-notes.html" class="nav-link">
  MacOS
</a></li></ul></div></div> <a href="https://github.com/tangentyh/notes-of-tan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-of-tan/todo/jsNotes.html#Flow-Control" class="sidebar-link">Flow Control</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Declarations" class="sidebar-link">Declarations</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#function-and-class" class="sidebar-link">function and class</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Iterations" class="sidebar-link">Iterations</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Others" class="sidebar-link">Others</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Primary-expressions" class="sidebar-link">Primary expressions</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Advanced" class="sidebar-link">Advanced???</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Object" class="sidebar-link">Object</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Error-Handling" class="sidebar-link">Error Handling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/todo/jsNotes.html#try-catch-and-errors" class="sidebar-link">try catch and errors</a></li><li class="sidebar-sub-header"><a href="/notes-of-tan/todo/jsNotes.html#throw-console" class="sidebar-link">throw, console</a></li></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Maintainability-Performance-and-Deployment" class="sidebar-link">Maintainability, Performance and Deployment</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#CLI" class="sidebar-link">CLI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Lint" class="sidebar-link">Lint</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Type-Basics" class="sidebar-link">Type Basics</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Interfaces" class="sidebar-link">Interfaces</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Classes" class="sidebar-link">Classes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-of-tan/todo/jsNotes.html#Mixins" class="sidebar-link">Mixins</a></li></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Generics" class="sidebar-link">Generics</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Advanced-Types" class="sidebar-link">Advanced Types</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Modules" class="sidebar-link">Modules</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Namespaces" class="sidebar-link">Namespaces</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Declaration" class="sidebar-link">Declaration</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#JSX" class="sidebar-link">JSX</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Decorators" class="sidebar-link">Decorators</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Triple-Slash-Directives" class="sidebar-link">Triple-Slash Directives</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Type-Checking-JavaScript-Files" class="sidebar-link">Type Checking JavaScript Files</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes-of-tan/todo/jsNotes.html#Declaration-Files" class="sidebar-link">Declaration Files</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="Docs"><a href="#Docs" class="header-anchor">#</a> Docs</h1> <ol><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference" target="_blank" rel="noopener noreferrer">JavaScript reference - JavaScript | MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://tc39.github.io/ecma262/" target="_blank" rel="noopener noreferrer">ECMA-262 Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><a href="http://www.ecma-international.org/ecma-262/" target="_blank" rel="noopener noreferrer">ECMA official<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.ecma-international.org/ecma-262/6.0/index.html" target="_blank" rel="noopener noreferrer">ECMA official ES6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p>W3C: <a href="https://www.w3.org/standards/webdesign/script" target="_blank" rel="noopener noreferrer">JS Web APIs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://eslint.org/docs/rules/" target="_blank" rel="noopener noreferrer">ESLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="http://javascript-puzzlers.herokuapp.com/" target="_blank" rel="noopener noreferrer">puzzles<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ol> <h1 id="Miscellaneous"><a href="#Miscellaneous" class="header-anchor">#</a> Miscellaneous</h1> <ol><li><p>ES6 to earlier: <a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">babel.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>promisify and <code>this</code></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{</span> input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">noerr_promisify</span><span class="token punctuation">(</span><span class="token parameter">fun<span class="token punctuation">,</span> <span class="token operator">...</span>defaults</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token operator">...</span>defaults<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">,</span> <span class="token parameter">ans</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token function">noerr_promisify</span><span class="token punctuation">(</span>rl<span class="token punctuation">.</span><span class="token function">question</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>rl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">resolved: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>input<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>string format</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> soMany <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">This is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>soMany<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> times easier!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;This is 10 times easier!</span>
</code></pre></div><ul><li>from ES6</li> <li>notice backticks in lieu of quotes</li></ul></li> <li><p>swap</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>b <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> a<span class="token operator">=</span>b<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
</code></pre></div></li> <li><p><code>0</code> and <code>-0</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">/</span> x <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// ES6</span>
</code></pre></div><ul><li>in <code>Math.atan()</code></li></ul></li> <li><p>equivalent of <code>zip</code> in python</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">zip</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rows</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>rows<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> rows<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token operator">=&gt;</span> row<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
</code></pre></div></li> <li><p>equivalent of <code>range</code> in python</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
</code></pre></div></li> <li><p>shallow copy an array</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// arr.length &gt; 1;</span>
Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>from fast to slow</p></li> <li><p>floor division</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span>a<span class="token operator">/</span>b <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (a/b &lt;&lt; 0)</span>
</code></pre></div></li></ol> <h1 id="Lexical-grammar"><a href="#Lexical-grammar" class="header-anchor">#</a> Lexical grammar</h1> <ol><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>comments</p> <ul><li><code>#!</code> hashbang stage 3</li></ul></li> <li><p>literals</p> <ul><li><code>null</code></li> <li>boolean</li> <li>numbers
<ul><li><code>0x</code>, <code>0o</code>, <code>0b</code>, also capitalized</li> <li><code>0888</code> is 888, <code>0777</code> is 511, not strict mode</li></ul></li> <li>object<div class="language-java extra-class"><pre class="language-java"><code>let iterable <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token class-name">Symbol</span><span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      i<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> undefined<span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>array</li> <li>string<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'\xA9'</span> <span class="token comment">// &quot;©&quot;, in the range 0x0000 to 0x00FF</span>
<span class="token string">'\u00A9'</span> <span class="token comment">// &quot;©&quot; (U+A9), For code points U+0000 to U+FFFF</span>
<span class="token string">'\uD87E\uDC04'</span> <span class="token comment">// larger range if two combined</span>
<span class="token string">'\u{2F804}'</span>
</code></pre></div></li> <li>regular expression</li> <li>template literals</li></ul></li> <li><p>Automatic semicolon insertion</p></li></ol> <h1 id="Statements"><a href="#Statements" class="header-anchor">#</a> Statements</h1> <h2 id="Flow-Control"><a href="#Flow-Control" class="header-anchor">#</a> Flow Control</h2> <ol><li><p>blocks — used to group zero or more statements</p> <ul><li>delimited by a pair of curly brackets</li> <li>and may optionally be labelled</li></ul></li> <li><p>empty — An empty statement is used to provide no statement, although the JavaScript syntax would expect one</p> <div class="language- extra-class"><pre class="language-text"><code>;
</code></pre></div></li> <li><p><code>break</code> — terminates the current loop, switch, or label statement</p></li> <li><p><code>continue</code></p> <ul><li>also label</li></ul></li> <li><p><code>if...else</code></p></li> <li><p><code>switch</code></p> <ul><li><code>===</code></li> <li>scope<div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token string">'say_hello'</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">'say_hello'</span><span class="token operator">:</span>
    <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">'say_hi'</span><span class="token operator">:</span>
    <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Empty action received.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>result — <code>Uncaught SyntaxError: Identifier 'message' has already been declared</code></li> <li>fix — add brackets</li></ul></li> <li>expression condition<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> num <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span>“Less than <span class="token number">0.</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> num <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span>“Between <span class="token number">0</span> and <span class="token number">10.</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> num <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span>“Between <span class="token number">10</span> and <span class="token number">20.</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span>“More than <span class="token number">20.</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><code>try...catch</code>, <code>finally</code></p> <ul><li>cannot <code>break</code> when unlabelled</li> <li>catch by type<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token function">myroutine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// may throw three types of exceptions</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">TypeError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// statements to handle TypeError exceptions</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">RangeError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// statements to handle RangeError exceptions</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">EvalError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// statements to handle EvalError exceptions</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// statements to handle any unspecified exceptions</span>
    <span class="token function">logMyErrors</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass exception object to error handler</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>optional catch binding — stage 4<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><code>finally</code> return value surpasses return value in <code>try</code> and <code>catch</code><div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div></li></ul></li> <li><p><code>throw</code></p> <ul><li>throw expression or <code>new Error</code></li></ul></li></ol> <h2 id="Declarations"><a href="#Declarations" class="header-anchor">#</a> Declarations</h2> <ol><li><p><code>var</code></p> <ul><li>scope — current execution context (function)</li> <li>variable hoisting</li> <li>Undeclared variables are always global, Undeclared variables do not exist until the code assigning to them is executed, Undeclared variables are configurable (e.g. can be deleted)<div class="language- extra-class"><pre class="language-text"><code>function x() {
  y = 1;   // Throws a ReferenceError in strict mode
  var z = 2;
}
x();
console.log(y); // logs &quot;1&quot;
console.log(z); // Throws a ReferenceError: z is not defined outside x
console.log(a); // ReferenceError
delete this.x; // Throws a TypeError in strict mode. Fails silently otherwise.
delete this.y; // true
</code></pre></div></li></ul></li> <li><p><code>let</code></p> <ul><li>temporal dead zone<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// prints out 'undefined'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> undeclaredVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// results in a 'ReferenceError', TDZ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
n <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token keyword">of</span> n<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ReferenceError, TDZ</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><code>const</code></p></li></ol> <h2 id="function-and-class"><a href="#function-and-class" class="header-anchor">#</a> function and class</h2> <ol><li><p><code>function</code></p> <ul><li>variable hoisting</li> <li>Conditionally created functions — results are inconsistent across implementations</li> <li>function expressions are not hoisted</li></ul></li> <li><p><code>function*</code> — returns <code>Generator</code> object</p> <ul><li><code>GeneratorFunction</code> constructor<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> GeneratorFunction <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor
</code></pre></div><ul><li>generator function created with the <code>GeneratorFunction</code> constructor do not create closures to their creation contexts; they always are created in the global scope</li></ul></li></ul></li> <li><p><code>async function</code> — returns an <code>AsyncFunction</code> object</p> <ul><li><code>AsyncFunction</code> constructor<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> AsyncFunction <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor
</code></pre></div><ul><li>async functions created with the <code>AsyncFunction</code> constructor do not create closures to their creation contexts; they are always created in the global scope</li></ul></li></ul></li> <li><p><code>return</code></p></li> <li><p><code>class</code></p> <ul><li>unlike the class expression, the class declaration doesn't allow an existing class to be declared again and will throw a type error if attempted.</li> <li>The class body of a class declaration is executed in strict mode</li> <li>The constructor property is optional.</li> <li>not hoisted</li></ul></li></ol> <h2 id="Iterations"><a href="#Iterations" class="header-anchor">#</a> Iterations</h2> <ol><li><p><code>do...while</code></p></li> <li><p><code>while</code></p></li> <li><p><code>for</code></p> <ul><li><code>for</code> without a statement<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>
  <span class="token keyword">var</span> oItNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>sId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* initialization */</span>
  oItNode<span class="token punctuation">;</span> <span class="token comment">/* condition */</span>
  nLeft <span class="token operator">+=</span> oItNode<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">,</span> nTop <span class="token operator">+=</span> oItNode<span class="token punctuation">.</span>offsetTop<span class="token punctuation">,</span> oItNode <span class="token operator">=</span> oItNode<span class="token punctuation">.</span>offsetParent <span class="token comment">/* final-expression */</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* semicolon, mandatory here */</span>
</code></pre></div></li></ul></li> <li><p><code>for...in</code> — iterates over all non-Symbol, enumerable properties of an object</p> <ul><li>arbitrary order</li> <li>Iterating over own properties only
<ul><li><code>type PropertyKey = string | number | symbol</code>, number will be converted to string</li> <li><code>Object.prototype.hasOwnProperty(v: PropertyKey): boolean</code></li> <li><code>Object.prototype.propertyIsEnumerable(v: PropertyKey): boolean</code></li> <li><code>Object.getOwnPropertyNames(o: any): string[]</code></li> <li><code>Object.keys(o: any): string[]</code>, <code>Object.entries()</code>, <code>Object.values()</code></li></ul></li></ul></li> <li><p><code>for...of</code> — <code>Symbol.iterator</code> hook</p></li> <li><p><code>for await...of</code> — <code>Symbol.asyncIterator</code> hook, also sync iterables</p></li></ol> <h2 id="Others"><a href="#Others" class="header-anchor">#</a> Others</h2> <ol><li><p><code>debugger</code></p></li> <li><p><code>import</code></p> <ul><li>hoist</li> <li>strict mode</li></ul></li> <li><p><code>export</code></p> <ul><li>strict mode</li></ul></li> <li><p><code>import.meta</code> — a meta-property exposing context-specific meta data to a JavaScript module</p></li></ol> <h1 id="Expressions-and-operators"><a href="#Expressions-and-operators" class="header-anchor">#</a> Expressions and operators</h1> <h2 id="Primary-expressions"><a href="#Primary-expressions" class="header-anchor">#</a> Primary expressions</h2> <ol><li><code>this</code></li></ol> <h1 id="Typed-Arrays"><a href="#Typed-Arrays" class="header-anchor">#</a> Typed Arrays</h1> <ol><li><p>Typed Arrays</p> <ul><li>WebGL deals with complex calculations requiring predictable precision, standard JavaScript numbers do not work</li> <li>WebGL introduces the concept of typed arrays, which are arrays whose items are set to be values of a particular type</li> <li><code>ArrayBuffer</code> <ul><li>a generic, fixed-length raw binary data buffer</li> <li>cannot directly manipulate the contents</li> <li>create one of the typed array objects or a <code>DataView</code> object which represents the buffer in a specific format, and use that to read and write the contents of the buffer</li> <li>constructor: <code>ArrayBuffer(byteLength: number)</code></li> <li><code>ArrayBuffer.prototype.byteLength</code> Read only — The size, in bytes, of the array</li></ul></li></ul></li> <li><p>Views — <code>DataView</code></p> <ul><li>An array buffer view is a particular way of using the bytes within an array buffer</li> <li>constructor: <code>DataView(buffer: ArrayBuffer, byteOffset?: number, byteLength?)</code></li> <li>properties: from constructor
<ul><li><code>DataView.prototype.buffer</code> Read only — The ArrayBuffer referenced by this view. Fixed at construction time and thus read only</li> <li><code>DataView.prototype.byteLength</code> Read only — The length (in bytes) of this view from the start of its ArrayBuffer. Fixed at construction time and thus read only</li> <li><code>DataView.prototype.byteOffset</code> Read only — The offset (in bytes) of this view from the start of its ArrayBuffer. Fixed at construction time and thus read only</li></ul></li> <li>read methods: return a number
<ul><li><code>DataView.prototype.getInt8(byteOffset)</code> — Gets a signed 8-bit integer (byte) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getUint8(byteOffset)</code> — Gets an unsigned 8-bit integer (unsigned byte) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getInt16(byteOffset, littleEndian?: boolean)</code> — Gets a signed 16-bit integer (short) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getUint16(byteOffset, littleEndian?: boolean)</code> — Gets an unsigned 16-bit integer (unsigned short) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getInt32(byteOffset, littleEndian?: boolean)</code> — Gets a signed 32-bit integer (long) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getUint32(byteOffset, littleEndian?: boolean)</code> — Gets an unsigned 32-bit integer (unsigned long) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getFloat32(byteOffset, littleEndian?: boolean)</code> — Gets a signed 32-bit float (float) at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.getFloat64(byteOffset, littleEndian?: boolean)</code> — Gets a signed 64-bit float (double) at the specified byte offset from the start of the view</li></ul></li> <li>write methods
<ul><li><code>DataView.prototype.setInt8(byteOffset, value)</code> — Stores a signed 8-bit integer (byte) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setUint8(byteOffset, value)</code> — Stores an unsigned 8-bit integer (unsigned byte) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setInt16(byteOffset, value, littleEndian?)</code> — Stores a signed 16-bit integer (short) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setUint16(byteOffset, value, littleEndian?)</code> — Stores an unsigned 16-bit integer (unsigned short) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setInt32(byteOffset, value, littleEndian?)</code> — Stores a signed 32-bit integer (long) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setUint32(byteOffset, value, littleEndian?)</code> — Stores an unsigned 32-bit integer (unsigned long) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setFloat32(byteOffset, value, littleEndian?)</code> — Stores a signed 32-bit float (float) value at the specified byte offset from the start of the view</li> <li><code>DataView.prototype.setFloat64(byteOffset, value, littleEndian?)</code> — Stores a signed 64-bit float (double) value at the specified byte offset from the start of the view</li></ul></li></ul></li> <li><p>Typed Views</p> <table><thead><tr><th>Type</th> <th>Value Range</th> <th>Description</th> <th>Web IDL type</th> <th>Equivalent C type</th></tr></thead> <tbody><tr><td><code>Int8Array</code></td> <td>-128 to 127</td> <td>8-bit two's complement signed integer</td> <td>byte</td> <td><code>int8_t</code></td></tr> <tr><td><code>Uint8Array</code></td> <td>0 to 255</td> <td>8-bit unsigned integer</td> <td>octet</td> <td><code>uint8_t</code></td></tr> <tr><td><code>Uint8ClampedArray</code></td> <td>0 to 255</td> <td>8-bit unsigned integer (clamped)</td> <td>octet</td> <td><code>uint8_t</code></td></tr> <tr><td><code>Int16Array</code></td> <td>-32768 to 32767</td> <td>16-bit two's complement signed integer</td> <td>short</td> <td><code>int16_t</code></td></tr> <tr><td><code>Uint16Array</code></td> <td>0 to 65535</td> <td>16-bit unsigned integer</td> <td>unsigned short</td> <td><code>uint16_t</code></td></tr> <tr><td><code>Int32Array</code></td> <td>-2147483648 to 2147483647</td> <td>32-bit two's complement signed integer</td> <td>long</td> <td><code>int32_t</code></td></tr> <tr><td><code>Uint32Array</code></td> <td>0 to 4294967295</td> <td>32-bit unsigned integer</td> <td>unsigned long</td> <td><code>uint32_t</code></td></tr> <tr><td><code>Float32Array</code></td> <td>1.2x10-38 to 3.4x1038</td> <td>32-bit IEEE floating point number ( 7 significant digits e.g. 1.1234567)</td> <td>unrestricted float</td> <td><code>float</code></td></tr> <tr><td><code>Float64Array</code></td> <td>5.0x10-324 to 1.8x10308</td> <td>64-bit IEEE floating point number (16 significant digits e.g. 1.123...15)</td> <td>unrestricted double</td> <td><code>double</code></td></tr></tbody></table> <ul><li><p>act like regular arrays with the exception that their elements must be of a particular data type</p> <ul><li>methods of <code>Array</code> are available, and more</li> <li>when setting, the number is stored as the modulo of the largest possible number</li> <li>additional method: <code>TypedArray.prototype.subarray(begin, end): TypedArray</code> <ul><li>difference with <code>slice()</code>: this is creating a new view on the existing buffer; changes to the new object's contents will impact the original object and vice versa</li> <li>begin and end is clamped to the valid index range for the current array; if the computed length of the new array would be negative, it's clamped to zero. If either begin or end is negative, it refers to an index from the end of the array instead of from the beginning</li></ul></li></ul></li> <li><p>inherits: <code>DataView</code></p></li> <li><p>constructor</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// new in ES2017</span>
<span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span>typedArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span>buffer <span class="token punctuation">[</span><span class="token punctuation">,</span> byteOffset <span class="token punctuation">[</span><span class="token punctuation">,</span> length<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>properties of constructors</p> <ul><li><code>name</code>: constructor name</li> <li><code>length</code></li> <li><code>BYTES_PER_ELEMENT</code>: help determine length when build from <code>ArrayBuffer</code></li></ul></li> <li><p>The contents are initialized to 0</p></li></ul></li></ol> <h2 id="Advanced"><a href="#Advanced" class="header-anchor">#</a> Advanced???</h2> <ol><li>Advanced Functions: ???
<ul><li><p>Safe Type Detection</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// false for COM</span>
<span class="token punctuation">}</span>
</code></pre></div><p>largely in use for identifying the native or library</p></li> <li><p>Scope-Safe Constructors: prevent call without <code>new</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>under this circumstance constructor stealing must be used with prototype chaining or parasitic combination</p></li> <li><p>Lazy Loading Functions</p> <ul><li><p>manipulating the function the first time it is called</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> XMLHttpRequest <span class="token operator">!=</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">createXHR</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>return a new anonymous function</p></li></ul></li> <li><p><code>Function.prototype.bind(thisArg: any, ...argArray: any[])</code> — creates a new bound function (BF)</p> <ul><li>creates a new function that, when called, has its <code>this</code> keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called
<ul><li>more overhead</li></ul></li> <li>thisArg
<ul><li>The value is ignored if the bound function is constructed using the <code>new</code> operator</li> <li>When using bind to create a function(supplied as a callback) inside a <code>setTimeout()</code>, any primitive value passed as <code>thisArg</code> is converted to object</li> <li>If no arguments are provided to bind, the <code>this</code> of the executing scope is treated as the <code>thisArg</code> for the new function</li></ul></li> <li>internally when without <code>new</code> — <code>Function.prototype.call([[BoundThis]], [[BoundArguments]], args)</code></li> <li>example<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">;</span>
<span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> unboundSlice <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">;</span>
<span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>unboundSlice<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">slice</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul></li></ol> <h1 id="ECMAScript"><a href="#ECMAScript" class="header-anchor">#</a> ECMAScript</h1> <h2 id="Object"><a href="#Object" class="header-anchor">#</a> Object</h2> <ol><li>Tamper-Proof Objects
<ul><li>for individual properties: manually set each property’s <code>[[Configurable]]</code>, <code>[[Writable]]</code>, <code>[[Enumerable]]</code>, <code>[[Value]]</code>, <code>[[Get]]</code>, and <code>[[Set]]</code> attributes to alter how the property behaves</li> <li>once an object has been made tamper-proof, the operation cannot be undone</li> <li>corresponding modification fails silently or by throwing a <code>TypeError</code> (most commonly, but not exclusively, when in strict mode)</li> <li><code>Object.preventExtensions(o: any): any</code> — Prevents any extensions of an object
<ul><li><code>__proto__</code> also become immutable</li></ul></li> <li><code>Object.isExtensible(o: any): boolean</code> — Determines if extending of an object is allowed</li> <li><code>Object.seal(o: any): any</code> — seals an object, preventing new properties from being added to it and marking all existing properties as non-configurable. Values of present properties can still be changed as long as they are writable
<ul><li>non-extensible and <code>[[configurable]]</code> set to <code>false</code></li></ul></li> <li><code>Object.isSealed(o: any): boolean</code> — Determines if an object is sealed</li> <li><code>Object.freeze(o: any): any</code> — freezes an object: that is, prevents new properties from being added to it; prevents existing properties from being removed; and prevents existing properties, or their enumerability, configurability, or writability, from being changed, it also prevents the prototype from being changed
<ul><li>non-extensible, sealed and property value cannot be changed</li></ul></li> <li><code>Object.isFrozen(o: any): boolean</code> — Determines if an object was frozen</li></ul></li></ol> <h2 id="Error-Handling"><a href="#Error-Handling" class="header-anchor">#</a> Error Handling</h2> <h3 id="try-catch-and-errors"><a href="#try-catch-and-errors" class="header-anchor">#</a> try catch and errors</h3> <ol><li><p>Syntax</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Unlike other languages, you must define a name for the <code>Error</code> object even if you don’t intend to use it</li> <li>nothing that can be done in the <code>try</code> or <code>catch</code> portion of the statement to prevent the code in finally from executing, which includes using a <code>return</code> statement</li> <li>If <code>finally</code> is provided, then <code>catch</code> becomes optional, and vice versa
<ul><li>IE7 and earlier had a bug where the code in <code>finally</code> would never be executed unless there was also a <code>catch</code></li></ul></li></ul></li> <li><p><code>Error</code></p> <ul><li>constructor: <code>Error(message?: string)</code> <ul><li>can be used as a function (without <code>new</code>)</li></ul></li> <li>properties and methods
<ul><li><code>Error.prototype.message</code> — Error message</li> <li><code>Error.prototype.name</code> — Error name</li> <li><code>Error.prototype.toString()</code> — Returns a string (<code>Error: ${error.message}</code>) representing the specified object. Overrides the <code>Object.prototype.toString()</code> method</li></ul></li> <li>nonstandard but widely support properties
<ul><li><code>Error.prototype.stack</code> — Stack trace</li></ul></li></ul></li> <li><p>Error Types</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">ReferenceError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">RangeError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ... etc</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>constructor name is the same as error type name, and similar to <code>Error()</code></li> <li><code>EvalError</code> — Creates an instance representing an error that occurs regarding the global function <code>eval()</code> <ul><li>This exception is not thrown by JavaScript anymore, however the <code>EvalError</code> object remains for compatibility</li></ul></li> <li><code>RangeError</code> — Creates an instance representing an error that occurs when a numeric variable or parameter is outside of its valid range</li> <li><code>ReferenceError</code> — Creates an instance representing an error when a non-existent variable is referenced</li> <li><code>SyntaxError</code> — Creates an instance representing a syntax error when trying to interpret syntactically invalid code</li> <li><code>TypeError</code> — Creates an instance representing an error that occurs when a variable or parameter is not of a valid type</li> <li><code>URIError</code> — Creates an instance representing an error that occurs when <code>encodeURI()</code> or <code>decodeURI()</code> are passed invalid parameters</li></ul></li> <li><p>Custom Error Types</p> <ul><li><p>ES6</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CustomError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token operator">...</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Pass remaining arguments</span>
        <span class="token comment">// (including vendor specific ones) to parent constructor</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Maintains proper stack trace for where our error was thrown (only available on V8)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Error<span class="token punctuation">.</span>captureStackTrace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Error<span class="token punctuation">.</span><span class="token function">captureStackTrace</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> CustomError<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Custom debugging information</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>foo <span class="token operator">=</span> foo<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">CustomError</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'bazMessage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//baz</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//bazMessage</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//stacktrace</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Babel and other transpilers will not correctly handle the code without additional configuration</li> <li>Some browsers include the CustomError constructor in the stack trace when using ES2015 classes</li></ul></li> <li><p>ES5</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">CustomError</span><span class="token punctuation">(</span><span class="token parameter">foo<span class="token punctuation">,</span> message<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> lineNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> lineNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
    instance<span class="token punctuation">.</span>foo <span class="token operator">=</span> foo<span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Error<span class="token punctuation">.</span>captureStackTrace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Error<span class="token punctuation">.</span><span class="token function">captureStackTrace</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> CustomError<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">CustomError</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Error</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> <span class="token punctuation">{</span>
        value<span class="token operator">:</span> Error<span class="token punctuation">,</span>
        enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        configurable<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span>setPrototypeOf<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>CustomError<span class="token punctuation">,</span> Error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    CustomError<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> Error<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">CustomError</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'bazMessage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//baz</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//bazMessage</span>
<span class="token punctuation">}</span>
</code></pre></div><p>All browsers include the CustomError constructor in the stack trace when using a prototype declaration</p></li></ul></li></ol> <h3 id="throw-console"><a href="#throw-console" class="header-anchor">#</a> throw, console</h3> <ol><li><p><code>throw</code> syntax</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">throw</span> expression<span class="token punctuation">;</span>
</code></pre></div><ul><li>any expression can be thrown, but better an object, especially using specific type constructor</li> <li>if a caught error cannot be handled, consider rethrow</li></ul></li> <li><p>3 common errors</p> <ul><li>Type Coercion Errors: avoid <code>==</code>, <code>!=</code>, <code>if (variable)</code></li> <li>Data Type Errors: use <code>typeof</code>, <code>instanceof</code></li> <li>Communication Errors: The <code>encodeURIComponent()</code> method should always be used for query string arguments</li></ul></li> <li><p>Log Errors to the Server</p> <ul><li>use <code>Image()</code> ???<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logError</span><span class="token punctuation">(</span><span class="token parameter">sev<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;log.php?sev=&quot;</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>sev<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&amp;msg=&quot;</span> <span class="token operator">+</span>
        <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><code>Console</code></p> <ul><li><p>provides access to the browser's debugging console, <code>window.console</code></p></li> <li><p>print methods</p> <ul><li><code>Console.log(...)</code> — For general output of logging information
<ul><li>when logging objects in the latest versions of Chrome and Firefox what get logged on the console is a reference to the object</li> <li>use <code>console.log(JSON.parse(JSON.stringify(obj)))</code> to see the value at the moment of being logged</li> <li>prints the element in an HTML-like tree for <code>Node</code> objects</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions" target="_blank" rel="noopener noreferrer">string substitution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (%) and additional arguments</li> <li><code>Console.assert()</code> (no string substitution), <code>Console.debug()</code>, <code>Console.error()</code>, <code>Console.info()</code>, <code>Console.warn()</code></li></ul></li> <li><code>Console.debug(...)</code> — Outputs a message to the console (<code>Console.log()</code>) with the log level &quot;debug&quot;
<ul><li>Note: Starting with Chromium 58 this method only appears in Chromium browser consoles when level &quot;Verbose&quot; is selected.</li></ul></li> <li><code>Console.error(...)</code> — <code>Console.log()</code> with error level</li> <li><code>Console.info(...)</code> — <code>Console.log()</code></li> <li><code>Console.warn(...)</code> — <code>Console.log()</code> with warning level</li> <li><code>Console.assert(assertion?: boolean, ...): void</code> — Log a error level message and stack trace to console if the first argument is <code>false</code> <ul><li><code>Console.log()</code> with a condition and error level and without string substitution</li></ul></li> <li><code>Console.dir(obj): void</code> — Displays an interactive list of the properties of the specified JavaScript object
<ul><li>prints the <code>HTMLElement</code> in a JSON-like tree</li></ul></li> <li><code>Console.dirxml(obj)</code> — <code>Console.dir()</code> which displays an interactive tree of the descendant elements of the specified XML/HTML element if possible</li> <li><code>Console.table(data, columns?): void</code> — logs data as a table. Each element in the array (or enumerable property if data is an object) will be a row in the table
<ul><li>columns parameter to select a subset of columns to display</li></ul></li> <li><code>Console.clear()</code> — Clear the console</li></ul></li> <li><p>count methods</p> <ul><li><code>Console.count(label?: string)</code> — Log the number of times this line or a particular call has been called with the given label
<ul><li>without the parameter, the label is <code>&quot;default&quot;</code></li></ul></li> <li><code>Console.countReset(label?: string)</code> — Resets the value of the counter with the given label</li></ul></li> <li><p>methods with new indentation</p> <ul><li><code>Console.group(groupTitle?)</code> — Creates a new inline group, indenting all following output by another level</li> <li><code>Console.groupCollapsed(groupTitle?)</code> — Creates a new inline group, indenting all following output by another level. However, unlike <code>group()</code> this starts with the inline group collapsed requiring the use of a disclosure button to expand it</li> <li><code>Console.groupEnd()</code> — Exits the current inline group</li></ul></li> <li><p>timing methods</p> <ul><li><code>Console.time(label?: string)</code> — Starts a timer with a name specified as an input parameter
<ul><li>Up to 10,000 simultaneous timers can run on a given page</li> <li>label defaults to <code>&quot;default&quot;</code></li></ul></li> <li><code>Console.timeEnd(label?)</code> — Stops the specified timer and logs the elapsed time in seconds since it started</li> <li><code>Console.timeLog(label?)</code> — Logs the value of the specified timer to the console
<ul><li>not widely supported</li></ul></li> <li><code>Console.timeStamp(label?: string)</code> nonstandard — Adds a marker to the browser's Timeline or Waterfall tool
<ul><li>label will then be shown alongside the marker</li></ul></li></ul></li> <li><p><code>Console.trace()</code> — Outputs a stack trace</p></li> <li><p>Styling console output — You can use the <code>%c</code> directive to apply a CSS style to console output:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is %cMy stylish message&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;color: yellow; font-style: italic; background-color: blue;padding: 2px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note: Quite a few CSS properties are supported by this styling; you should experiment and see which ones prove useful</p></li></ul></li></ol> <h2 id="Maintainability-Performance-and-Deployment"><a href="#Maintainability-Performance-and-Deployment" class="header-anchor">#</a> Maintainability, Performance and Deployment</h2> <ol><li><p>maintainability</p> <ul><li><p>four spaces and semicolon</p></li> <li><p>comments</p></li> <li><p>intuitive and proper naming</p> <ul><li><code>var name</code> will override <code>window.name</code></li></ul></li> <li><p>type transparency</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @param {string} s
 * @param
 * @return {number}
 */</span>
</code></pre></div></li> <li><p>loose coupling</p> <ul><li>decouple JavaScript inline in HTML</li> <li>decouple <code>HTMLElement.style</code> by altering <code>HTMLElement.className</code></li> <li>decouple Application Logic/Event Handlers</li></ul></li> <li><p>Respect Object Ownership</p></li> <li><p>Avoid Globals</p></li> <li><p>Avoid Null Comparisons</p></li> <li><p>Use Constants</p></li></ul></li> <li><p>performance</p> <ul><li>Be Scope-Aware — avoid long scope-chain lookup ???</li> <li>Avoid long property lookup
<ul><li>actually long chaining dict lookup</li></ul></li> <li>Avoid Double Interpretation</li> <li>prefer native methods, switch statements and bitwise operations</li> <li>Optimize DOM Interactions — DOM manipulations and interactions take a large amount of time because they often require rerendering all or part of the page ???
<ul><li>Minimize Live Updates
<ul><li>use <code>DocumentFragment</code></li> <li>use <code>HTMLElement.InnerHTML</code></li></ul></li> <li>Use Event Delegation</li> <li>Beware of <code>HTMLCollections</code> (and <code>NodeList</code>) — An <code>HTMLCollection</code> in the HTML DOM is live; it is automatically updated when the underlying document is changed
<ul><li>cache <code>length</code> and items in loops</li> <li>In some cases, <code>NodeList</code> is static, where any changes in the DOM does not affect the content of the collection, as <code>Document.querySelectorAll()</code></li> <li>In other cases, the <code>NodeList</code> is live, which means that changes in the DOM automatically update the collection, such as <code>Node.childNodes</code></li></ul></li></ul></li></ul></li> <li><p>deployment</p> <ul><li>webpack</li> <li>build</li> <li>validation</li> <li>compression — file and HTTP</li></ul></li></ol> <h1 id="JSON"><a href="#JSON" class="header-anchor">#</a> JSON</h1> <ol><li><p>syntax</p> <ul><li>simple values — Strings, numbers, Booleans, and <code>null</code>, no <code>undefined</code> <ul><li>strings must use double quotes to be valid</li></ul></li> <li>objects — key-value pairs
<ul><li>key is enclosed by double quotes</li> <li>no trailing semicolon</li></ul></li> <li>arrays</li></ul></li> <li><p>polyfill</p> <ul><li>tbc</li> <li>better not use <code>eval()</code></li></ul></li> <li><p><code>JSON</code></p> <ul><li><code>JSON.parse(text: string, receiver?: (key: any, value: any) =&gt; any): any</code> <ul><li>text: The string to parse as JSON</li> <li>reviver — If a function, this prescribes how the value originally produced by parsing is transformed, before being returned</li> <li>does not allow trailing commas: <code>SyntaxError</code></li></ul></li> <li><code>JSON.stringify(value: any, replacer?: (key: string, value: any) =&gt; any, space?: string | number): string</code><br> <code>JSON.stringify(value: any, replacer?: (string | number)[], space?: string | number): string</code> <ul><li>value — The value to convert to a JSON string</li> <li>replacer — A function that alters the behavior of the stringification process, or an array of <code>String</code> and <code>Number</code> objects that serve as a whitelist for selecting/filtering the properties of the value object to be included in the JSON string
<ul><li>If you return any other object, the object is recursively stringified into the JSON string, calling the replacer function on each property, unless the object is a function, in which case nothing is added to the JSON string.</li> <li>If you return <code>undefined</code>, the property is not included (i.e., filtered out) in the output JSON string.</li> <li>cannot use the replacer function to remove values from an array. If you return <code>undefined</code> or a function then <code>null</code> is used instead</li></ul></li> <li>space
<ul><li>if a <code>Number</code>, it indicates the number of space characters to use as white space; this number is capped at 10 and 0</li> <li>if a string, the string (or the first 10 characters of the string) is used as whitespace</li></ul></li> <li>rule
<ul><li>If the value has a <code>toJSON()</code> method, it's responsible to define what data will be serialized</li> <li><code>Boolean</code>, <code>Number</code>, and <code>String</code> objects are converted to the corresponding primitive values during stringification, in accord with the traditional conversion semantics</li> <li>If <code>undefined</code>, a <code>Function</code>, or a <code>Symbol</code> is encountered during conversion it is either omitted (when it is found in an object) or censored to <code>null</code> (when it is found in an array). <code>JSON.stringify()</code> can also just return undefined when passing in &quot;pure&quot; values like <code>JSON.stringify(function(){})</code> or <code>JSON.stringify(undefined)</code></li> <li>All <code>Symbol</code>-keyed properties will be completely ignored, even when using the replacer function</li> <li>The instances of Date implement the <code>toJSON()</code> function by returning a string (the same as <code>date.toISOString())</code>. Thus, they are treated as strings</li> <li>The numbers <code>Infinity</code> and <code>NaN</code>, as well as the object <code>null</code>, are all considered <code>null</code></li> <li>All the other <code>Object</code> instances (including <code>Map</code>, <code>Set</code>, <code>WeakMap</code>, and <code>WeakSet</code>) will have only their enumerable properties serialized</li></ul></li></ul></li></ul></li></ol> <h1 id="Strict-Mode"><a href="#Strict-Mode" class="header-anchor">#</a> Strict Mode</h1> <ol><li><p>Invoking strict mode</p> <ul><li>put the exact statement <code>&quot;use strict&quot;;</code> (or <code>'use strict';</code>) before any other statements
<ul><li>for a script or a function</li> <li>for scripts
<ul><li>no effect for functions inside</li> <li>concatenate conflicting scripts can be problematic</li></ul></li></ul></li> <li>modules are automatically in strict mode, with no statement needed to initiate it</li></ul></li> <li><p>variables</p> <ul><li>assigning a value to an undeclared variable throws a <code>ReferenceError</code></li> <li>an attempt to <code>delete</code> a variable causes an <code>ReferenceError</code> — Nonstrict mode allows this and may silently fail (returning <code>false</code>)</li> <li>disallows variables named <code>implements</code>, <code>interface</code>, <code>let</code>, <code>package</code>, <code>private</code>, <code>protected</code>, <code>public</code>, <code>static</code>, and <code>yield</code>, causes <code>SyntaxError</code> <ul><li>also function names</li></ul></li> <li>disallows using <code>eval</code> and <code>arguments</code> as identifiers and manipulating their values or <code>SyntaxError</code></li></ul></li> <li><p>Objects</p> <ul><li>Assigning a value to a read-only property throws a <code>TypeError</code></li> <li>Using delete on a nonconfigurable property throws a <code>TypeError</code></li> <li>Attempting to add a property to a nonextensible object throws a <code>TypeError</code></li> <li>When using an object literal, property names must be unique or throws <code>SyntaxError</code> — not ES6</li></ul></li> <li><p>Functions</p> <ul><li>named function arguments be unique or <code>SyntaxError</code></li> <li>In nonstrict mode, changes to a named argument are also reflected in the <code>arguments</code> object, whereas strict mode ensures that each are completely separate</li> <li>the elimination of <code>arguments.callee</code> and <code>arguments.caller</code>, throws a <code>TypeError</code></li> <li>disallowing function declarations unless they are at the top level of a script or function, or <code>SyntaxError</code> <ul><li>function statements outside top level are permitted in ES6</li></ul></li></ul></li> <li><p><code>eval()</code></p> <ul><li>no longer create variables or functions in the containing context
<ul><li>what declared inside remain inside a special scope that is used while code is being evaluated and then destroyed once completed</li></ul></li></ul></li> <li><p><code>this</code></p> <ul><li>in nonstrict mode, When using the <code>apply()</code> or <code>call()</code> methods of a function, a <code>null</code> or <code>undefined</code> value is coerced to the global object</li> <li>In strict mode, the <code>this</code> value for a function is always used as specified</li> <li>and if unspecified, <code>this</code> will be <code>undefined</code></li></ul></li> <li><p>miscellanea</p> <ul><li>An attempt to use <code>with</code> in strict mode results in a <code>SyntaxError</code></li> <li>An octal literal is now considered invalid syntax in strict mode
<ul><li><code>parseInt()</code> with octal literals are considered decimal literals with a leading zero</li> <li>not ES6 <code>0o</code></li></ul></li> <li>ES6 forbids setting properties on primitive values or <code>TypeError</code></li></ul></li></ol> <h1 id="Build-Tools"><a href="#Build-Tools" class="header-anchor">#</a> Build Tools</h1> <ol><li><p><a href="https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html" target="_blank" rel="noopener noreferrer">tbc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>webpack</p> <ul><li><a href="https://survivejs.com/webpack/developing/webpack-dev-server/" target="_blank" rel="noopener noreferrer">webpack-dev-server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer">Concepts | webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ol> <h1 id="TypeScript-superset-of-JavaScript"><a href="#TypeScript-superset-of-JavaScript" class="header-anchor">#</a> TypeScript — superset of JavaScript</h1> <ol><li>docs — <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" rel="noopener noreferrer">Basic Types · TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h2 id="CLI"><a href="#CLI" class="header-anchor">#</a> CLI</h2> <ol><li><p><code>ts-node</code></p> <ul><li><code>.type</code> in REPL</li></ul></li> <li><p><code>tsc</code></p> <ul><li><a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank" rel="noopener noreferrer">complier options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p>tsconfig.json</p> <ul><li><p>use</p> <ul><li>by invoking tsc with no input files, in which case the compiler searches for the tsconfig.json file starting in the current directory and continuing up the parent directory chain</li> <li>By invoking tsc with no input files and a <code>--project</code> (or just <code>-p</code>) command line option that specifies the path of a directory containing a tsconfig.json file, or a path to a valid .json file containing the configurations</li></ul></li> <li><p><a href="http://json.schemastore.org/tsconfig" target="_blank" rel="noopener noreferrer">schema<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>Example Using the <code>&quot;files&quot;</code> property</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;removeComments&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;preserveConstEnums&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;core.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;sys.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;types.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;scanner.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;parser.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;utilities.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;binder.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;checker.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;emitter.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;program.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;commandLineParser.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;tsc.ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;diagnosticInformationMap.generated.ts&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>example Using the <code>&quot;include&quot;</code> and <code>&quot;exclude&quot;</code> properties</p></li> <li><p>strict example</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Parse in strict mode and emit &quot;use strict&quot; for each source file.</span>
    <span class="token comment">// If you have wrong casing in referenced files e.g. the filename is Global.ts and you have a /// &lt;reference path=&quot;global.ts&quot; /&gt; to reference this file, then this can cause to unexpected errors. Visite: http://stackoverflow.com/questions/36628612/typescript-transpiler-casing-issue</span>
    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Disallow inconsistently-cased references to the same file.</span>
    <span class="token comment">// &quot;allowUnreachableCode&quot;: false, // Do not report errors on unreachable code. (Default: False)</span>
    <span class="token comment">// &quot;allowUnusedLabels&quot;: false, // Do not report errors on unused labels. (Default: False)</span>
    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Report errors for fall through cases in switch statement.</span>
    <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Report error when not all code paths in function return a value.</span>
    <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Report errors on unused parameters.</span>
    <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Report errors on unused locals.</span>
    <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Raise error on expressions and declarations with an implied &quot;any&quot; type.</span>
    <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Raise error on this expressions with an implied &quot;any&quot; type.</span>
    <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// The null and undefined values are not in the domain of every type and are only assignable to themselves and any.</span>
    <span class="token comment">// To enforce this rules, add this configuration.</span>
    <span class="token property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// Do not emit outputs if any errors were reported.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>Project References — tbc</p></li> <li><p><a href="https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html#webpack" target="_blank" rel="noopener noreferrer">build tools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ol> <h2 id="Lint"><a href="#Lint" class="header-anchor">#</a> Lint</h2> <ol><li><p><a href="https://www.npmjs.com/package/tslint" target="_blank" rel="noopener noreferrer">tslint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><a href="https://palantir.github.io/tslint/rules/" target="_blank" rel="noopener noreferrer">rules<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>tslint --help</code></li> <li><code>tslint --init</code></li></ul></li> <li><p><a href="https://github.com/buzinas/tslint-eslint-rules#configure-your-rules" target="_blank" rel="noopener noreferrer">ESLint rules for TSLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ol> <h2 id="Type-Basics"><a href="#Type-Basics" class="header-anchor">#</a> Type Basics</h2> <ol><li><p>Basic Types</p> <ul><li><p>concrete values</p></li> <li><p><code>boolean</code></p></li> <li><p><code>number</code></p></li> <li><p><code>string</code></p></li> <li><p><code>Array&lt;T&gt;</code> or <code>T[]</code></p> <ul><li><code>ReadonlyArray&lt;T&gt;</code></li></ul></li> <li><p>tuple — express an array where the type of a fixed number of elements is known</p> <ul><li>When accessing an element outside the set of known indices, a union type is used instead: <code>T1 | T2</code></li> <li><code>[T1, T2]</code></li> <li><code>?</code> — <code>[number, string?, boolean?];</code></li></ul></li> <li><p><code>any</code> — opt-out of type-checking and let the values pass through compile-time checks</p></li> <li><p><code>unknown</code></p> <ul><li>Anything is assignable to <code>unknown</code>, but unknown isn’t assignable to anything but itself and <code>any</code> without a type assertion or a control flow based narrowing</li> <li>Likewise, no operations are permitted on an unknown without first asserting or narrowing to a more specific type.</li></ul></li> <li><p><code>void</code> — return type of functions, or <code>undefined</code> or <code>null</code></p></li> <li><p><code>null</code> and <code>undefined</code> — subtypes of all other types when without <code>--strictNullChecks</code> flag</p> <ul><li>use union type: <code>string | null | undefined</code></li></ul></li> <li><p><code>never</code> — the return type for a function expression or an arrow function expression that always throws an exception or one that never returns</p> <ul><li>Variables also acquire the type <code>never</code> when narrowed by any type guards that can never be true</li> <li>a subtype of, and assignable to, every type</li> <li><code>any</code> is not assignable to <code>never</code></li></ul></li> <li><p><code>object</code>, <code>&lt;T&gt;{}</code> (<code>T</code> for <code>interface</code>), <code>{a: string, b?: number}</code>, <code>{a: string; b?: number}</code></p></li> <li><p>C-like <code>enum</code> — members as properties, enum name as type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green<span class="token punctuation">;</span>
<span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Blue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green<span class="token punctuation">;</span>
<span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> colorName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> Color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>computed cannot be followed by non-initialized</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> <span class="token constant">E</span> <span class="token punctuation">{</span>
    <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">getSomeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token comment">// error! 'A' is not constant-initialized, so 'B' needs an initializer</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>String enums — each member has to be constant-initialized with a string literal, or with another string enum member</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
    Up <span class="token operator">=</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
    Down <span class="token operator">=</span> <span class="token string">&quot;DOWN&quot;</span><span class="token punctuation">,</span>
    Left <span class="token operator">=</span> <span class="token string">&quot;LEFT&quot;</span><span class="token punctuation">,</span>
    Right <span class="token operator">=</span> <span class="token string">&quot;RIGHT&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Heterogeneous enums — not recommended</p></li> <li><p>When all members in an enum have literal enum values</p> <ul><li><p>enum members as types</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> ShapeKind <span class="token punctuation">{</span>
    Circle<span class="token punctuation">,</span>
    Square<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ShapeKind<span class="token punctuation">.</span>Circle<span class="token punctuation">;</span>
    radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ShapeKind<span class="token punctuation">.</span>Square<span class="token punctuation">;</span>
    sideLength<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> Circle <span class="token operator">=</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ShapeKind<span class="token punctuation">.</span>Square<span class="token punctuation">,</span>
    <span class="token comment">//    ~~~~~~~~~~~~~~~~ Error!</span>
    radius<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>enum types themselves effectively become a union of each enum member</p></li></ul></li> <li><p>Enums at runtime</p> <ul><li>real objects that exist at runtime</li> <li>Reverse mappings — numeric enums members also get a reverse mapping from enum values to enum names<div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Enum <span class="token punctuation">{</span>
    <span class="token constant">A</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> Enum<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nameOfA <span class="token operator">=</span> Enum<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;A&quot;</span>
</code></pre></div></li></ul></li> <li><p><code>const</code> enums — can only use constant enum expressions, completely removed during compilation, inlined at use sites</p></li> <li><p>Ambient enums <code>declare enum</code> — describe the shape of already existing enum types</p> <ul><li>an ambient (and non-const) enum member that does not have initializer is always considered computed</li></ul></li></ul></li></ul></li> <li><p>variable declaration</p> <ul><li><p><code>declare</code> — declare variables that may not have originated from a TypeScript file, not for compilation and simply a hint to the compiler</p> <ul><li><code>.d.ts</code></li></ul></li> <li><p><code>type</code>: like <code>typedef</code> in C</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token constant">C</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Tree<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
    left<span class="token operator">:</span> Tree<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    right<span class="token operator">:</span> Tree<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">LinkedList<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> next<span class="token operator">:</span> LinkedList<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> people<span class="token operator">:</span> LinkedList<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>function type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">myAdd</span><span class="token operator">:</span> <span class="token punctuation">(</span>baseValue<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> increment<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">f</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> x <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">f2</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>args_0<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> args_1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> args_2<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>default-initialized parameters don’t need to occur after required parameters, unlike ES6</p></li> <li><p><code>this</code> parameters — fake parameters that come first in the parameter list, make <code>this</code> a explicit type in lieu of <code>any</code></p> <ul><li><code>this: void</code> means a function that does not require a <code>this</code> type</li></ul></li> <li><p><code>this</code> parameters in callbacks</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">UIElement</span> <span class="token punctuation">{</span>
    <span class="token function">addClickListener</span><span class="token punctuation">(</span><span class="token function-variable function">onclick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">,</span> e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Handler0</span> <span class="token punctuation">{</span>
    info<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token function">onClickBad</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Handler<span class="token punctuation">,</span> e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// oops, used this here. using this callback would crash at runtime</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> e<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    info<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token function-variable function">onClickGood</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> e<span class="token punctuation">.</span>message <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
uiElement<span class="token punctuation">.</span><span class="token function">addClickListener</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>onClickBad<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>arrow functions don’t capture <code>this</code>, so you can always pass them to something that expects <code>this: void</code></li> <li>one arrow function is created per object of type Handler. Methods, on the other hand, are only created once and attached to Handler’s prototype</li></ul></li> <li><p>overload</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">pickCard</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token punctuation">{</span>suit<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> card<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">pickCard</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>suit<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> card<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">pickCard</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
    <span class="token comment">// Check to see if we're working with an object/array</span>
    <span class="token comment">// if so, they gave us the deck and we'll pick the card</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pickedCard <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> x<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> pickedCard<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Otherwise just let them pick the card</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pickedSuit <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>x <span class="token operator">/</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> suit<span class="token operator">:</span> suits<span class="token punctuation">[</span>pickedSuit<span class="token punctuation">]</span><span class="token punctuation">,</span> card<span class="token operator">:</span> x <span class="token operator">%</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li> <li><p>type assertion</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> someValue<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;this is a string&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> strLength<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>someValue<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">let</span> strLength2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>someValue <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre></div><ul><li>no runtime impact, and is used purely by the compiler</li> <li><code>null</code> or <code>undefined</code> removing type assertion — <code>!</code>: <code>str!.charAt(0)</code></li></ul></li> <li><p>type inference</p></li> <li><p>type compatibility — Structural typing is a way of relating types based solely on their members</p> <ul><li>x is compatible with y if y has at least the same members as x</li></ul></li> <li><p>destructuring</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">=</span> o<span class="token punctuation">;</span>
</code></pre></div><ul><li>default values<div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">keepWholeObject</span><span class="token punctuation">(</span>wholeObject<span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1001</span> <span class="token punctuation">}</span> <span class="token operator">=</span> wholeObject<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol> <h2 id="Interfaces"><a href="#Interfaces" class="header-anchor">#</a> Interfaces</h2> <ol><li><p><code>interface</code> — <code>type</code> for objects, only the shape that matters</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">LabelledValue</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    op<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">readonly</span> ro<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">printLabel</span><span class="token punctuation">(</span>labelledObj<span class="token operator">:</span> LabelledValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>labelledObj<span class="token punctuation">.</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myObj <span class="token operator">=</span> <span class="token punctuation">{</span>size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&quot;Size 10 Object&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printLabel</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>optional properties: <code>?</code></p></li> <li><p><code>readonly</code></p></li> <li><p>Excess Property Checks</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> s2<span class="token operator">:</span> LabelledValue <span class="token operator">=</span> myObj<span class="token punctuation">;</span> <span class="token comment">// OK, but not recommended</span>
<span class="token keyword">let</span> s3<span class="token operator">:</span> LabelledValue <span class="token operator">=</span> <span class="token punctuation">{</span>size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'111'</span><span class="token punctuation">}</span> <span class="token comment">// error: size does not exist in type LabelledValue</span>
</code></pre></div><ul><li><p>get around — type assertion</p></li> <li><p>Indexable type — an index signature that describes the types we can use to index into the object: config the interface to be able to have some extra properties</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SquareConfig</span> <span class="token punctuation">{</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    width<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>two types of supported index signatures: string and number</li> <li>the type returned from a numeric indexer must be a subtype of the type returned from the string indexer, <code>a[100]</code> is the same as <code>a['100']</code> in JavaScript</li> <li>string index enforce all properties match their return type</li></ul></li></ul></li></ul></li> <li><p><code>interface</code> for functions</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// call signature</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>the names of the parameters do not need to match</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> mySearch<span class="token operator">:</span> SearchFunc<span class="token punctuation">;</span>
<span class="token function-variable function">mySearch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> sub<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> src<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>can infer the argument types</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> mySearch<span class="token operator">:</span> SearchFunc<span class="token punctuation">;</span>
<span class="token function-variable function">mySearch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> sub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> src<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><code>interface</code> for <code>class</code> <code>implements</code></p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ClockInterface</span> <span class="token punctuation">{</span>
    currentTime<span class="token operator">:</span> Date<span class="token punctuation">;</span>
    <span class="token function">setTime</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token keyword">implements</span> <span class="token class-name">ClockInterface</span> <span class="token punctuation">{</span>
    currentTime<span class="token operator">:</span> Date<span class="token punctuation">;</span>
    <span class="token function">setTime</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentTime <span class="token operator">=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>h<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> m<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>can also describe methods</li> <li>describe the public side of the class, rather than both the public and private side</li> <li>only the instance side of the class is checked, not the static side
<ul><li>create an interface with a construct signature and try to create a class that implements this interface you get an error</li> <li>also check constructor: refer to docs</li></ul></li></ul></li> <li><p>Extending Interfaces</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">PenStroke</span> <span class="token punctuation">{</span>
    penWidth<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span><span class="token punctuation">,</span> PenStroke <span class="token punctuation">{</span>
    sideLength<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> square <span class="token operator">=</span> <span class="token operator">&lt;</span>Square<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
square<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
square<span class="token punctuation">.</span>sideLength <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
square<span class="token punctuation">.</span>penWidth <span class="token operator">=</span> <span class="token number">5.0</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>interfaces can extend each other. This allows you to copy the members of one interface into another</li></ul></li> <li><p>Interfaces Extending Classes — inherits the members of the class but not their implementations</p> <ul><li>even inherits the private and protected members of a base class<div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Control</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">SelectableControl</span> <span class="token keyword">extends</span> <span class="token class-name">Control</span> <span class="token punctuation">{</span>
    <span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">Control</span> <span class="token keyword">implements</span> <span class="token class-name">SelectableControl</span> <span class="token punctuation">{</span>
    <span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Error: Property 'state' is missing in type 'Image'.</span>
<span class="token keyword">class</span> <span class="token class-name">myImage</span> <span class="token keyword">implements</span> <span class="token class-name">SelectableControl</span> <span class="token punctuation">{</span>
    <span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>Hybrid Types</p> <ul><li>for example, an object that acts as both a function and an object, with additional properties<div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    interval<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Counter <span class="token punctuation">{</span>
    <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token operator">&lt;</span>Counter<span class="token operator">&gt;</span><span class="token keyword">function</span> <span class="token punctuation">(</span>start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    counter<span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
    counter<span class="token punctuation">.</span><span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> counter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token function">getCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">c</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token number">5.0</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ol> <h2 id="Classes"><a href="#Classes" class="header-anchor">#</a> Classes</h2> <ol><li><p><code>class</code></p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span>
    greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greeting<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>extends</code></p> <ul><li><code>super()</code> — the constructor of the base class
<ul><li>before we ever access a property on this in a constructor body, we have to call <code>super()</code>. This is an important rule that TypeScript will enforce</li></ul></li> <li>override method — use the same identifier</li></ul></li> <li><p>Public, private, protected and more</p> <ul><li><p>Public by default</p></li> <li><p><code>private</code> and <code>protected</code> — the same declaration is required when comparing type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>theName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> theName<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Rhino</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;Rhino&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>theName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> theName<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">&quot;Goat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rhino <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rhino</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animal <span class="token operator">=</span> rhino<span class="token punctuation">;</span>
animal <span class="token operator">=</span> employee<span class="token punctuation">;</span> <span class="token comment">// Error: 'Animal' and 'Employee' are not compatible</span>
</code></pre></div></li> <li><p><code>private</code> — cannot be accessed from outside of its containing class</p></li> <li><p><code>protected</code> — like <code>private</code> but can also be accessed within deriving classes</p> <ul><li>A constructor may also be marked <code>protected</code></li></ul></li> <li><p><code>readonly</code></p></li> <li><p>Parameter properties — constructor parameter with <code>readonly</code>, <code>public</code>, <code>private</code> or <code>protected</code>, will be initialized as properties of the class</p></li> <li><p>accessors — <code>get</code>, <code>set</code> as in ES6 with type</p> <ul><li>accessors with a <code>get</code> and no <code>set</code> are automatically inferred to be readonly</li></ul></li> <li><p><code>static</code>: use the class name in lieu of <code>this</code> to access</p></li></ul></li> <li><p>Abstract Classes — <code>abstract</code></p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;roaming the earth...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>for other classes to derive, may not be instantiated directly</li> <li>Unlike an interface, an abstract class may contain implementation details for its members
<ul><li>may optionally include access modifiers</li></ul></li> <li><code>abstract</code> marked do not contain an implementation and must be implemented in derived classes</li> <li>objects declared abstract class type but instantiated by subclass constructor, will lose what defined only in that subclass</li></ul></li> <li><p>use class as an interface</p> <ul><li>a class declaration creates two things: a type representing instances of the class and a constructor function</li> <li>Because classes create types, you can use them in the same places you would be able to use interfaces</li></ul></li></ol> <h3 id="Mixins"><a href="#Mixins" class="header-anchor">#</a> Mixins</h3> <ol><li><p>concept — another popular way of building up classes from reusable components is to build them by combining simpler partial classes</p> <ul><li>wikipedia — a Mixin is a class that contains methods for use by other classes without having to be the parent class of those other classes</li> <li>sometimes described as being &quot;included&quot; rather than &quot;inherited&quot;, can also be viewed as an interface with implemented methods</li> <li>Mixins encourage code reuse and can be used to avoid the inheritance ambiguity that multiple inheritance can cause (the &quot;diamond problem&quot;)</li></ul></li> <li><p>example</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token comment">// Disposable Mixin</span>
<span class="token keyword">class</span> <span class="token class-name">Disposable</span> <span class="token punctuation">{</span>
    isDisposed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isDisposed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Activatable Mixin</span>
<span class="token keyword">class</span> <span class="token class-name">Activatable</span> <span class="token punctuation">{</span>
    isActive<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@<span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Disposable<span class="token punctuation">,</span> Activatable<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SmartObject</span> <span class="token keyword">implements</span> <span class="token class-name">Disposable</span><span class="token punctuation">,</span> Activatable <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isDisposed<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">interact</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Disposable</span>
    isDisposed<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token function-variable function">dispose</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token comment">// Activatable</span>
    isActive<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token function-variable function">activate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function-variable function">deactivate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// alternative — Object.assign()</span>
<span class="token keyword">function</span> <span class="token function">mixin</span><span class="token punctuation">(</span>baseCtors<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">applyMixins</span><span class="token punctuation">(</span>derivedCtor<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        baseCtors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>baseCtor <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>baseCtor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>name <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                derivedCtor<span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> baseCtor<span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> smartObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SmartObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> smartObj<span class="token punctuation">.</span><span class="token function">interact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>overhead: we create stand-in properties and their types for the members that will come from our mixins, that’s exactly what we want to avoid by using mixins</p></li> <li><p>The pure function and delegation based Flight-Mixin Approach</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token comment">// Implementation</span>
<span class="token keyword">const</span> EnumerableFirstLast <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// function based module pattern.</span>
  <span class="token keyword">const</span> <span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">last</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// function based Flight-Mixin mechanics ...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first  <span class="token operator">=</span> first<span class="token punctuation">;</span>  <span class="token comment">// ... referring to ...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last   <span class="token operator">=</span> last<span class="token punctuation">;</span>   <span class="token comment">// ... shared code.</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Application - explicit delegation:</span>
<span class="token comment">// applying [first] and [last] enumerable behavior onto [Array]'s [prototype].</span>
<span class="token function">EnumerableFirstLast</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Now you can do:</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
a<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>
</code></pre></div></li></ol> <h2 id="Generics"><a href="#Generics" class="header-anchor">#</a> Generics</h2> <ol><li><p>capturing the type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;myString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> output2 <span class="token operator">=</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token string">&quot;myString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>when working with classes, static members can not use the class’s type parameter</li></ul></li> <li><p>Generic Constraints</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Lengthwise</span> <span class="token punctuation">{</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">loggingIdentity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Lengthwise<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Now we know it has a .length property, so no more error</span>
    <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Type Parameters<div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getProperty</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">pluck</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>o<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> names<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> o<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>Using Class Types in Generics</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">create</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>c<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="Advanced-Types"><a href="#Advanced-Types" class="header-anchor">#</a> Advanced Types</h2> <ol><li><p>Intersection Types — <code>T &amp; U</code></p></li> <li><p>Union Types — <code>T | U</code></p> <ul><li><code>type Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;</code></li> <li><code>1 | 2</code></li></ul></li> <li><p>type guard — some expression that performs a runtime check that guarantees the type in some scope</p> <ul><li><p>type predicate type guards — <code>is</code> return type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">isFish</span><span class="token punctuation">(</span>pet<span class="token operator">:</span> Fish <span class="token operator">|</span> Bird<span class="token punctuation">)</span><span class="token operator">:</span> pet <span class="token keyword">is</span> Fish <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Fish<span class="token operator">&gt;</span>pet<span class="token punctuation">)</span><span class="token punctuation">.</span>swim <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFish</span><span class="token punctuation">(</span>pet<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pet<span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    pet<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>called with some variable, TypeScript will narrow that variable to that specific type if the original type is compatible</li></ul></li> <li><p><code>typeof</code> type guards — <code>if (typeof x === 'number')</code></p></li> <li><p><code>instanceof</code> type guards</p></li></ul></li> <li><p>mapped types</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Keys</span> <span class="token operator">=</span> <span class="token string">'option1'</span> <span class="token operator">|</span> <span class="token string">'option2'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Flags</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>Partial</code> and <code>Readonly</code> already in library</li> <li>more in lib</li></ul></li> <li><p>conditional types — <code>T extends U ? X : Y</code></p> <ul><li>when T is assignable to U the type is X, otherwise the type is Y</li> <li>predefined in <code>lib.d.ts</code> — access via <code>F12</code> <ul><li><code>Exclude&lt;T, U&gt;</code> – Exclude from T those types that are assignable to U</li> <li><code>Extract&lt;T, U&gt;</code> – Extract from T those types that are assignable to U</li> <li><code>NonNullable&lt;T&gt;</code> – Exclude null and undefined from T</li> <li><code>ReturnType&lt;T&gt;</code> – Obtain the return type of a function type</li> <li><code>InstanceType&lt;T&gt;</code> – Obtain the instance type of a constructor function type</li></ul></li></ul></li> <li><p>tbc</p></li></ol> <h2 id="Modules"><a href="#Modules" class="header-anchor">#</a> Modules</h2> <ol><li><p>modules and scripts</p> <ul><li>any file containing a top-level <code>import</code> or <code>export</code> is considered a module</li> <li>a script whose contents are available in the global scope (and therefore to modules as well)</li> <li><code>tsc --module commonjs Test.ts</code> for node.js</li></ul></li> <li><p><code>export</code> — ES6 like</p></li> <li><p><code>import</code> — ES6 like</p> <ul><li><p>If a module identifier is only ever used as part of a type annotations and never as an expression, then no <code>require</code> call is emitted for that module</p></li> <li><p>Import a module for side-effects only <code>import 'module'</code> — module augmentation see below</p></li> <li><p>import types</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token comment">// module.d.ts</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span>
   name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// global-script.ts</span>
<span class="token keyword">function</span> <span class="token function">adopt</span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./module&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Pet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Adopting </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>p<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>also JavaScript</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// a.js</span>
<span class="token comment">/**
 * @param p { import(&quot;./module&quot;).Pet }
 */</span>
<span class="token keyword">function</span> <span class="token function">walk</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Walking </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>p<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><code>export =</code> and <code>import = require()</code> — model the traditional CommonJS and AMD workflow, such as</p> <ul><li>The <code>export = syntax</code> specifies a single object that is exported from the module</li> <li>When exporting a module using <code>export =</code>, TypeScript-specific <code>import module = require(&quot;module&quot;)</code> must be used to import the module</li> <li>Depending on the module target specified during compilation, the compiler will generate appropriate code for different target</li></ul></li> <li><p>Ambient Modules <code>.d.ts</code> — Working with Other JavaScript Libraries</p> <ul><li><p>We could define each module in its own .d.ts file with top-level export declarations</p></li> <li><p>or write them as one larger <code>.d.ts</code> file. To do so, we use a construct similar to ambient namespaces, but we use the <code>module</code> keyword and the quoted name of the module which will be available to a later import</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token comment">/// &lt;reference path=&quot;node.d.ts&quot;/&gt;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">URL</span> <span class="token keyword">from</span> <span class="token string">&quot;url&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>direct import with <code>any</code> type</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;hot-new-module&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> x<span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;hot-new-module&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Wildcard module declarations — non-JavaScript content</p></li></ul></li> <li><p>Module Resolution</p></li></ol> <h2 id="Namespaces"><a href="#Namespaces" class="header-anchor">#</a> Namespaces</h2> <ol><li><code>namespace</code> <ul><li><p>the <code>--outFile</code> flag to compile all of the input files into a single JavaScript output file</p></li> <li><p>namespaces can span multiple files, and can be concatenated using <code>--outFile</code></p></li> <li><p>Non-exported members are only visible in the original (un-merged) namespace</p></li> <li><p>aliases — <code>import a =</code></p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">namespace</span> Shapes <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">namespace</span> Polygons <span class="token punctuation">{</span>
        <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Triangle</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
        <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">import</span> polygons <span class="token operator">=</span> Shapes<span class="token punctuation">.</span>Polygons<span class="token punctuation">;</span>
<span class="token keyword">let</span> sq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">polygons</span><span class="token punctuation">.</span><span class="token function">Square</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Same as 'new Shapes.Polygons.Square()'</span>
</code></pre></div></li> <li><p>modules would be the recommended code organization mechanism</p></li></ul></li></ol> <h2 id="Declaration"><a href="#Declaration" class="header-anchor">#</a> Declaration</h2> <ol><li>Declaration merge — merges two separate declarations declared with the same name into a single definition
<ul><li><p>interfaces with same name will merge</p></li> <li><p>namespaces with same name will merge, not the non-exported</p></li> <li><p>Merging Namespaces with Classes, functions, enums — static field</p></li> <li><p>classes can not merge with other classes or with variables</p></li> <li><p>Module Augmentation — <code>declare module</code></p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token comment">// observable.ts stays the same</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Observable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// ... implementation left as an exercise for the reader ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// map.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./observable&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;./observable&quot;</span> <span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Observable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token generic-function"><span class="token function">map</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function-variable function">f</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Observable<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">map</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... another exercise for the reader</span>
<span class="token punctuation">}</span>
<span class="token comment">// consumer.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./observable&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./map&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>can’t declare new top-level declarations in the augmentation – just patches to existing declarations</p></li> <li><p>Global augmentation <code>declare global</code> — add declarations to the global scope from inside a module</p> <ul><li>have the same behavior and limits as module augmentations</li></ul></li></ul></li></ol> <h2 id="JSX"><a href="#JSX" class="header-anchor">#</a> JSX</h2> <ol><li><p>basic usage</p> <ul><li><code>.tsx</code> file extension</li> <li>enable <code>jsx</code> option</li></ul></li> <li><p>tbc</p></li></ol> <h2 id="Decorators"><a href="#Decorators" class="header-anchor">#</a> Decorators</h2> <ol><li><p>use</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code>@f @g x
<span class="token comment">// or</span>
@f
@g
x
</code></pre></div><ul><li>stage 2 proposal for JavaScript and are available as an experimental feature</li> <li>enable the <code>experimentalDecorators</code> compiler option</li></ul></li> <li><p>Decorator Factories — customize how a decorator is applied to a declaration</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">color</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// this is the decorator factory</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// this is the decorator</span>
        <span class="token comment">// do something with 'target' and 'value'...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// call with @color('red')</span>
</code></pre></div></li> <li><p>Decorator Evaluation</p> <ul><li>Parameter Decorators, followed by Method, Accessor, or Property Decorators are applied for — each instance member and each static member</li> <li>Parameter Decorators are applied for the constructor</li> <li>Class Decorators are applied for the class</li></ul></li> <li><p>Property Decorators</p> <ul><li>cannot be used in any other ambient context</li> <li>The expression for the property decorator will be called as a function at runtime, with the following two arguments:
<ul><li>Either the constructor function of the class for a static member, or the prototype of the class for an instance member</li> <li>The name of the member</li></ul></li></ul></li> <li><p>sample decorators</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sealed</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// @sealed</span>
    Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">enumerable</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// @enumerable(false)</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> propertyKey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> descriptor<span class="token operator">:</span> PropertyDescriptor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">configurable</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// @configurable(false)</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> propertyKey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> descriptor<span class="token operator">:</span> PropertyDescriptor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>reflect-metadata</code> npm module — tbc</p></li></ol> <h2 id="Triple-Slash-Directives"><a href="#Triple-Slash-Directives" class="header-anchor">#</a> Triple-Slash Directives</h2> <ol><li>Triple-Slash Directives
<ul><li>single-line comments containing a single XML tag. The contents of the comment are used as compiler directives</li> <li>only valid at the top of their containing file</li> <li><code>/// &lt;reference path=&quot;...&quot; /&gt;</code> — a declaration of dependency between files
<ul><li>instruct the compiler to include additional files in the compilation process</li> <li>also serve as a method to order the output when using <code>--out</code> or <code>--outFile</code></li> <li>resolved in a depth first manner</li> <li><code>--noResolve</code> — If the compiler flag <code>--noResolve</code> is specified, triple-slash references are ignored
<ul><li>neither result in adding new files, nor change the order of the files provided</li></ul></li></ul></li> <li><code>/// &lt;reference types=&quot;...&quot; /&gt;</code> — declares a dependency on a package
<ul><li>Use these directives only when you’re authoring a <code>d.ts</code> file by hand</li> <li>an <code>import</code> for declaration packages</li> <li>For example, including <code>/// &lt;reference types=&quot;node&quot; /&gt;</code> in a declaration file declares that this file uses names declared in <code>@types/node/index.d.ts</code></li></ul></li> <li><code>/// &lt;reference lib=&quot;...&quot; /&gt;</code> — explicitly include an existing built-in lib file
<ul><li>Built-in lib files are referenced in the same fashion as the <code>&quot;lib&quot;</code> compiler option in tsconfig.json (e.g. use <code>lib=&quot;es2015&quot;</code> and not <code>lib=&quot;lib.es2015.d.ts&quot;</code>, etc.)</li> <li>For example, adding <code>/// &lt;reference lib=&quot;es2017.string&quot; /&gt;</code> to one of the files in a compilation is equivalent to compiling with <code>--lib es2017.string</code></li></ul></li> <li>more</li></ul></li></ol> <h2 id="Type-Checking-JavaScript-Files"><a href="#Type-Checking-JavaScript-Files" class="header-anchor">#</a> Type Checking JavaScript Files</h2> <ol><li>tbc</li></ol> <h2 id="Declaration-Files"><a href="#Declaration-Files" class="header-anchor">#</a> Declaration Files</h2> <ol><li>tbc</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/tangentyh/notes-of-tan/edit/master/docs/todo/jsNotes.md" target="_blank" rel="noopener noreferrer">Edit This Page On GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/8/2020, 5:25:01 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div class="vuepress-eqn"></div><span class="vuepress-eq"></span></div></div>
    <script src="/notes-of-tan/assets/js/app.bd5566f0.js" defer></script><script src="/notes-of-tan/assets/js/2.33f31c9b.js" defer></script><script src="/notes-of-tan/assets/js/33.40fadf29.js" defer></script>
  </body>
</html>
